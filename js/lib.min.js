var Reposio={};$(document).ready((function App__on_ready(){Reposio.controller=new Reposio.Controller();Reposio.controller.init()}));(function(d){var g=(function c(){this.providers={};for(var j in d.Providers){this.providers[j]=new d.Providers[j](this)}for(var i in d.Models){this[i]=null}this.display=new d.Display(this)});g.prototype.init=(function b(){this.display.init()});g.prototype.set_current_object=(function a(j,i){var k=(this[j]===null||this[j].id!=i);if(k){this[j]=d.Models[j].get(i,this);this.display["change_"+j]()}this.display["update_"+j+"_navbar"](this[j]);return k});g.prototype.fetch_full_error=(function h(k,m,n,j,i,o,l){if(this.display.confirm_new_fech("full","this page",k,l)){m.fetch_full(n,j,i,o,l)}});g.prototype.fetch_more_error=(function f(k,m,n,j,i,l){if(this.display.confirm_new_fech("more","more",k,l)){m.fetch_more(n,j,i,l)}});g.prototype.fetch_all_error=(function e(l,n,o,j,k,i,m){if(this.display.confirm_new_fech("all","all",l,m)){n.fetch_all(o,j,k,i,m)}});d.Controller=g})(Reposio);(function(q){var f=(function d(w){this.controller=w});f.prototype.init=(function v(){var C=this;this.templates_container=$("#templates");for(var A in this.pages_list){this.construct_pages(A,this.pages_list[A])}$.mobile.initializePage();C.init_events();var z=$("div[data-role=page]:not(.ui-page)"),y=$("#progress-loader"),B=z.length,x=(function w(D,G){if(G<D.length){var F=Math.max(6,Math.min(Math.round(100*(G+1)/B),100));y.css({width:F+"%"});setTimeout((function E(){var H=D.eq(G);H.page();x(D,G+1)}),10);if(G==2){$("html").removeClass("loading")}}else{$("#first-loader").remove()}});x(z,0)});f.prototype.format_date=(function r(A,B,w,x){if(!A){return""}var z=A.split("T");if(B){var y=z[1].slice(0,w?8:5);return(x?"":z[0]+" ")+y}else{return z[0]}});f.prototype.nodes={};f.prototype.templates={};f.prototype.pages_list={};f.prototype.pages={};f.prototype.construct_pages=(function i(w,C){for(var H=0;H<C.length;H++){var y=C[H];y.name=y.id;y.id=w+"_"+y.name;y.type=w;if(!y.title){y.title=y.name[0].toUpperCase()+y.name.slice(1)}if(!y.method){y.method=y.name}}var L="",x=(C.length>4);for(var M=0;M<C.length;M++){var K=C[M],N="",F=[];if(x){F.push(C[0]);F.push(C[1]);F.push(C[(M<2)?2:M])}else{F=C}N='<div data-role="page" id="'+K.id+'">';N+='<div data-role="header" data-id="'+w+'_pages" data-position="fixed" data-theme="a">';N+="<h3></h3>";N+='<a href="#main_menu_'+K.id+'" data-icon="gear" data-iconpos="notext" data-rel="popup" class="ui-btn-right">Options</a>';N+='<div data-role="navbar">';N+="<ul"+(x?' class="extended"':"")+">";for(var J=0;J<F.length;J++){var E=F[J];N+="<li>";N+='<a href="#'+E.id+'"'+(J<M?' data-direction="reverse"':"")+' class="'+(E.name==K.name?"ui-btn-active ui-state-persist ":"")+E.id+'-link">';N+=E.title;if(E.count){N+='<span class="'+E.id+'-count ui-li-count ui-btn-up-c ui-btn-corner-all">?</span>'}N+="</a>";N+="</li>"}if(x){N+='<li><a data-rel="popup" href="#menu_'+K.id+'">...</a>'}N+="</ul>";N+="</div>";N+="</div>";N+='<div data-role="content"></div>';if(x){N+='<div data-role="popup" id="menu_'+K.id+'" data-theme="a" class="nav-menu">';N+='<ul data-inset="true" data-theme="a">';for(var I=0;I<C.length;I++){var B=C[I];N+="<li>";N+='<a href="#'+B.id+'" class="'+(B.name==K.name?"ui-btn-active ":"")+B.id+'-link">';N+=B.title;if(B.count){N+='<span class="'+B.id+'-count ui-li-count ui-btn-up-c ui-btn-corner-all">?</span>'}N+="</a>";N+="</li>"}N+="</ul>";N+="</div>"}N+='<div data-role="popup" id="main_menu_'+K.id+'" data-theme="a" class="main-nav-menu">';N+="</div>";N+="</div>";L+=N}$("body").append(L);for(var G=0;G<C.length;G++){var D=C[G],A=$("#"+D.id),z=$("#main_menu_"+D.id),O=this.get_template(D.id,true,true);D.nodes={links:$("a."+D.id+"-link"),page:A,header:A.children(":jqmData(role=header)").children("h3"),content:A.children(":jqmData(role=content)"),main_menu:z,refresh_control:$(),go_button:$()};D.node=D.nodes.page;if(O){D.nodes.content.prepend(O.children)}D.view=q.View.get(D,this);this.pages[D.id]=D}});f.prototype.update_go_button=(function j(y,w){var x=y.nodes.go_button;if(x.length){x.toggleClass("ui-disabled",!w);x.attr("href",w||"")}});f.prototype.init_events=(function u(){var B=this;$(document).on("pagebeforechange",(function y(J,I){if(typeof I.toPage!=="string"){return}if(I.options.dataUrl){I.options.dataUrl=I.options.dataUrl.replace("?","!")}I.options.allowSamePageTransition=true;if(I.toPage==$.mobile.path.stripQueryParams(location.href.replace("!","?"))){I.options.transition="none"}B.on_before_page_change(J,I)}));$(document).on("pagechange",(function w(M,L){B.update_fullscreen_control();if($.mobile.activePage&&$.mobile.activePage.hasClass("current_page")&&!$.mobile.activePage.hasClass("page_loaded")){$.mobile.loading("show")}try{var K=B.pages[L.toPage.data("url")],J=B["get_real_"+K.type+"_page"](K.name,B.controller[K.type]);K.nodes.main_menu.data("go-button-url",J);B.update_go_button(K,J)}catch(I){}}));$(".nav-menu").on("popupafterclose",(function G(){var L=$(this),K=L.find("a.ui-btn-active"),I,J;if(K.length){J=L.parents(".ui-page");if(J.length){I=K.attr("href");J.find('.ui-header .ui-navbar a[href="'+I+'"]').addClass("ui-btn-active")}}}));$(".nav-menu").on("popupbeforeposition",(function A(){var I=$(this).children("ul");if(!I.hasClass("ui-listview")){I.listview()}}));$(".main-nav-menu").on("popupbeforeposition",(function x(){var I=$(this);if(!I.children().length){var J=B.get_template("main-nav-menu");I.append(J.cloneNode(true));I.trigger("create");var K=B.pages[$.mobile.activePage.data("url")];K.nodes.refresh_control=K.nodes.main_menu.find(".refresh-control");K.nodes.go_button=K.nodes.main_menu.find(".go-button");B.update_go_button(K,K.nodes.main_menu.data("go-button-url"))}}));$(document).on("click",".list-events a.collapsible-trigger",(function z(M){M.preventDefault();M.stopPropagation();var L=$(this),N=L.hasClass("opened"),K,O,J,I;if(!L.hasClass("filled")){L.addClass("filled");I=L.parents("li");O=I[0].event_data;if(O.provider["more_"+O.event.type]){J=O.provider["more_"+O.event.type](O.event,O.source);I.append(J);K=I.children(":last");K.collapsible();B.render_widgets(K);L.data("collapsible",K);setTimeout(function(){K.trigger(N?"collapse":"expand")},100)}}else{K=L.data("collapsible");if(K){K.trigger(N?"collapse":"expand")}}L.toggleClass("opened",!N);return false}));$(document).on("click",".list-events a.fetch-desc-trigger",(function C(P){P.preventDefault();P.stopPropagation();var R=$(this),N=R.data("repository"),Q=q.Models.repository.get(N,B.controller),K=(function M(U){$('p.ui-li-desc[data-fetching-repository="'+N+'"]').each((function V(){var W=$(this);W.children().remove();W.append(U)}))}),S=(function J(){var U=$(this),V=U.parent();V.children().remove();V.append("<em>loading...</em>").attr("data-fetching-repository",N)}),T=(function O(V){var U;Q.details=V;if(Q.details.description){U="<strong>"+Q.details.description+" </strong>"}else{U="<em>no description</em>"}K(U)}),L=(function I(U){K("<em>Loading failed! ("+B.get_error_text(U)+') </em><a href="#" class="fetch-desc-trigger" data-repository="'+Q.id+'">Retry ?</a>')});$('a.fetch-desc-trigger[data-repository="'+N+'"]').each(S);if(Q.details){T()}else{Q.fetch("details",T,L,null,"fail_if_404")}}));$(document).on("click","li.with-extension",(function E(I){I.preventDefault();I.stopPropagation();$(this).toggleClass("extended");return false}));$(document).on("click",".refresh-control",(function D(J){J.preventDefault();J.stopPropagation();var I=B.pages[$.mobile.activePage.data("url")];options=I.view.accept_options?I.view.get_options_from_form():null;$.mobile.loading("show");B.ask_for_page(I.id,B.controller[I.type].id,options,"force");I.nodes.main_menu.popup("close")}));if(screenfull.enabled){$(document).on("change",".fullscreen-control",(function H(I){$(this).parents(".main-nav-menu").popup("close");screenfull.toggle()}));screenfull.onchange=B.update_fullscreen_control}else{var F=$(".fullscreen-control");F.parents(".ui-checkbox").add(F.parents("label")).remove()}});f.prototype.update_fullscreen_control=(function p(){$(".fullscreen-control").attr("checked",screenfull.isFullscreen).each(function(){try{$(this).checkboxradio("refresh")}catch(w){}})});f.prototype.on_before_page_change=(function m(A,z){var x=$.mobile.path.parseUrl(z.toPage),w,y;if(x.hash&&z.options){w=x.hash.slice(1);if(this.pages[w]){y=this.pages[w];if(z.options.pageData&&z.options.pageData[y.type]){$.mobile.loading("show");this.ask_for_page(y.id,z.options.pageData[y.type],_.omit(z.options.pageData,y.type));return}}}if(y||!$(x.hash).length){$.mobile.changePage($("#home"));A.preventDefault()}});f.prototype.is_page_for=(function h(x,y,w){var z=x.node.data("current-for");if(!z||z!=y.id){return false}if(x.view.accept_options&&x.node.data("current-options")!=$.param(w)){return false}return true});f.prototype.ask_for_page=(function a(E,C,D,x){C=C.replace(":","/");var A=this,B=this.pages[E],y=this.controller.set_current_object(B.type,C),z=this.controller[B.type],F=B.view.accept_options?B.view.manage_options(D):{};$(".current_page, .page_loaded").removeClass("current_page page_loaded");B.node.addClass("current_page");B.node.data("title",B.nodes.header.text());if(!x&&this.is_page_for(B,z,F)){this.post_render_page(B)}else{B.nodes.refresh_control.addClass("ui-disabled");B.view.reset();if(B.view.accept_options){B.node.data("current-options",$.param(F))}B.node.data("current-for",z.id);z.fetch_full(B.method,(function w(){A.render_page(B,z,F,x)}),F,x)}});f.prototype.ask_for_more=(function c(z){var B=this,A=this.controller[z.type],x=z.view.options;A.fetch_more(z.method,(function w(C){if(!B.is_page_for(z,A,x)){return}z.view.complete(A,C);z.view.update_load_buttons(A);if(z.node.hasClass("current_page")){$.mobile.loading("hide")}}),x,(function y(){z.view.enable_load_buttons()}))});f.prototype.ask_for_all=(function e(A){var C=this,B=this.controller[A.type],y=A.view.options;B.fetch_all(A.method,(function x(D){if(!C.is_page_for(A,B,y)){return}A.view.complete(B,D)}),(function w(){if(!C.is_page_for(A,B,y)){return}if(A.node.hasClass("current_page")){A.view.hide_load_buttons();$.mobile.loading("hide")}}),y,(function z(){A.view.enable_load_buttons()}))});f.prototype.render_page=(function s(y,z,w,x){if(!this.is_page_for(y,z,w)){return}y.view.update(z,x);if(y.node.hasClass("current_page")){this["update_"+y.type+"_navbar"](z);this.post_render_page(y)}});f.prototype.post_render_page=(function t(w){$.mobile.loading("hide");w.node.addClass("page_loaded");w.nodes.refresh_control.removeClass("ui-disabled ui-btn-active")});f.prototype.render_widgets=(function b(w){w.find(":jqmData(role=listview)").listview();w.find(":jqmData(role=collapsible-set)").collapsibleset();w.find(":jqmData(role=collapsible)").collapsible();w.find(":jqmData(role=button)").button();w.find(":jqmData(role=table)").table()});f.prototype.create_events_list_items=(function l(B){var A=this.get_template("event-list-day"),x=this.get_template("event-list-item"),y=[],C=null,w,D;for(var z=0;z<B.length;z++){D=B[z];if(D.day!=C){w=A.cloneNode(true);w.innerHTML=D.day;C=D.day;y.push(w)}w=x.cloneNode(true);w.innerHTML=D.html;w.event_data={event:D.event,source:D.source,provider:D.provider};y.push(w)}return y});f.prototype.get_error_text=(function o(w){var x="";if(w){if(w.statusText){x=w.statusText}if(w.status){if(w.statusText){x+=" - "}x+=w.status}}if(!x){x="undefined error"}return x});f.prototype.confirm_new_fech=(function k(A,z,y,x){$.mobile.loading("hide");var w=confirm("Unable to fetch "+z+" ("+this.get_error_text(y)+"), retry ?");if(w){$.mobile.loading("show")}else{if(x){x()}else{switch(A){case"full":history.go(-1);break;case"more":case"all":}}}return w});f.prototype.get_template=(function n(y,x,A){var w,z;if(!this.templates[y]){w=this.templates_container.find("[data-template-for="+y+"]")[0];z=document.createElement("div");z.innerHTML=w.childNodes[0].nodeValue;if(!A){z=z.removeChild(z.children[0])}w.parentNode.removeChild(w);this.templates[y]=z}z=this.templates[y];if(x){delete this.templates[y]}return z});f.prototype.clear_listview=(function g(x,y,w){x.children(":not(.ui-li-divider)").remove();if(y){x.append('<li class="failover">'+y+"</li>")}if(w){x.listview("refresh")}});q.Display=f})(Reposio);(function(f){f.Display.prototype.pages_list.account=[{id:"home",title:"Details",method:"details"},{id:"repositories",title:"Repos",count:true},{id:"activity",method:"own_events"},{id:"members",method:"org_members"},{id:"stars"},{id:"following",count:true},{id:"followers",count:true},{id:"events",method:"received_events"}];f.Display.prototype.change_account=(function a(){$(".account_repositories-count").hide();$(".account_followers-count").hide();$(".account_following-count").hide();for(var h=0;h<this.pages_list.account.length;h++){var k=this.pages_list.account[h];for(var g=0;g<k.nodes.links.length;g++){k.nodes.links[g].href="#"+k.id+"!account="+this.controller.account.id}k.nodes.header.html(this.controller.account.id+" - "+k.title);k.node.removeData("current-for")}});f.Display.prototype.account_link=(function c(h,g){return'<a class="mini-button" data-role="button" data-inline="true" data-mini="true" data-theme="a" href="#account_home!account='+h+"@"+g+'">'+h+"</a>"});f.Display.prototype.create_accounts_list_items=(function d(j,r){var s=this.get_template("account-list-item"),o=[];for(var m=0;m<j.length;m++){var n=j[m],h="#account_home!account="+n.login+"@"+r.name,t=s.cloneNode(true),q=t.getElementsByTagName("a")[0],g=q.children,l=g[0],p=g[1],k=[];q.href=h;p.innerHTML=n.login;l.src=n.avatar_url;if(n.html_prepend){$(q).prepend(n.html_prepend)}o.push(t)}return o});f.Display.prototype.update_account_navbar=(function e(h){var g=(h.details&&h.details.type.toLowerCase()=="organization");$(".go-button").find(".provider").html(h.provider.name);$(".account_members-link").closest("li").toggle(g);$(".account_repositories-count").html(h.details?h.details.repos_count:"?").show();$(".account_followers-count").html(h.details?h.details.followers_count:"?").show();$(".account_following-count").html(h.details?h.details.following_count:"?").show()});f.Display.prototype.get_real_account_page=(function b(g,i){var h=(i.details&&i.details.type.toLowerCase()=="organization");switch(g){case"home":return"https://github.com/"+i.username;case"repositories":return"https://github.com/"+i.username+"?tab=repositories";case"activity":return h?null:"https://github.com/"+i.username+"?tab=activity";case"followers":return"https://github.com/"+i.username+"/followers";case"stars":case"following":return"https://github.com/"+i.username+"/following";case"members":return h?"https://github.com/"+i.username+"?tab=members":null}return null})})(Reposio);(function(d){d.Display.prototype.pages_list.repository=[{id:"home",title:"Details",method:"details"},{id:"activity"},{id:"contributors"},{id:"forks",count:true},{id:"stars",count:true}];d.Display.prototype.change_repository=(function b(){$(".repository_forks-count").hide();$(".repository_stars-count").hide();for(var h=0;h<this.pages_list.repository.length;h++){var k=this.pages_list.repository[h];for(var g=0;g<k.nodes.links.length;g++){k.nodes.links[g].href="#"+k.id+"!repository="+this.controller.repository.id.replace("/",":")}k.nodes.header.html(this.controller.repository.id+" - "+k.title);k.node.removeData("current-for")}});d.Display.prototype.repository_link=(function a(i,h,g){i=i.replace("/",":");return'<a class="mini-button" data-role="button" data-inline="true" data-mini="true" data-theme="b" href="#repository_home!repository='+i+"@"+g+'">'+h+"</a>"});d.Display.prototype.create_repositories_list_items=(function f(n,r){var t=this.get_template("repository-list-item"),p=[];for(var l=0;l<n.length;l++){var o=n[l],v=o.full_name||o.name,h="#repository_home!repository="+v.replace("/",":")+"@"+r.name,s=t.cloneNode(true),q=s.getElementsByTagName("a")[0],g=q.children,j=g[1],m=g[2],u=g[3],k=[];q.href=h;j.innerHTML=v;if(o.description){m.innerHTML=o.description}else{k.push("no-desc")}if(!o.is_fork){k.push("no-fork")}if(o.pushed_at){u.getElementsByTagName("span")[0].innerHTML=this.format_date(o.pushed_at,true)}else{k.push("no-date")}if(k.length){s.className+=" "+k.join(" ")}p.push(s)}return p});d.Display.prototype.update_repository_navbar=(function c(g){$(".go-button").find(".provider").html(g.provider.name);$(".repository_forks-count").html(g.details?g.details.forks_count:"?").show();$(".repository_stars-count").html(g.details?g.details.watchers_count:"?").show()});d.Display.prototype.get_real_repository_page=(function e(g,h){switch(g){case"home":case"activity":return"https://github.com/"+h.path;case"contributors":return"https://github.com/"+h.path+"/contributors";case"forks":return"https://github.com/"+h.path+"/network";case"stars":return"https://github.com/"+h.path+"/stargazers"}return null})})(Reposio);(function(e){e.Models={};e.Models.base=Class.$extend({__classvars__:{model_name:null,fields:{},cache:{},default_params:{},fetchable_params:{},get:(function c(p,o){if(!this.cache[this.model_name]){this.cache[this.model_name]={}}if(!this.cache[this.model_name][p]){this.cache[this.model_name][p]=new this(p,o)}return this.cache[this.model_name][p]})},__init__:(function a(r,o){var q=r.split("@");this.id=r;this.ref=q[0];this.provider=o.providers[q[1]];this.controller=o;this.list_page_status={};for(var p in this.__classvars__.fields){if(this.__classvars__.fields[p] instanceof Array){this[p]={};this.list_page_status[p]={__global__:{all:false}}}else{this[p]=null}}}),get_list:(function h(t,q,u){var s=this.filter_fetchable_params(t,q);if(this["sort_and_filter_"+t]){var p=this.list_page_status[t].__global__.all;if(!p){var r=this.filter_unfetchable_params(t,q);if(!_.isEmpty(r)){u=u||this[t][$.param(s)];p=true}}if(p){var o=this["sort_and_filter_"+t](q,u);if(o!==null){return o}}}return u||this[t][$.param(s)]}),filter_fetchable_params:(function l(o,p){p=p||{};if(this.$class.fetchable_params[o]){return _.pick(p,this.$class.fetchable_params[o])}else{return p}}),filter_unfetchable_params:(function j(o,p){p=p||{};if(this.$class.fetchable_params[o]){return _.omit(p,this.$class.fetchable_params[o])}else{return{}}}),fetch:(function b(q,t,p,s,r){var o=this;s=s||{};if(this.$class.default_params[q]){s=$.extend({},this.$class.default_params[q],s);delete s.max_pages}o.provider["get_"+o.$class.model_name+"_"+q](o.ref,function(u,v){if(u&&u.status==404&&!r){v=o.$class.fields[q];u=null}if(u){if(p){p(u)}}else{if(t){t(v)}}},s)}),fetched:(function k(o,p){if(this.$class.fields[o] instanceof Array){if(this.list_page_status[o].__global__.all){return true}return(typeof this[o][p]!="undefined")}else{return(this[o]!==null)}}),fetch_full:(function d(r,v,u,s,q){var p=this,o=(p.$class.fields[r] instanceof Array),t;u=this.filter_fetchable_params(r,u);t=$.param(u);if(r!="details"&&!p.details){p.fetch_full("details",function(){p.fetch_full(r,v,u,s)});return}if(s&&this.list_page_status[r]){p.list_page_status[r].__global__={all:false}}if(s||!p.fetched(r,t)){p.fetch(r,function(w){if(o){p[r][t]=w;p.update_list_page_status(r,u,1,w?w.length||0:0)}else{p[r]=w}v()},function(w){p.controller.fetch_full_error(w,p,r,v,u,s,q)},u,"fail_if_404")}else{v()}}),update_list_page_status:(function g(u,r,v,p){var s=this.$class.default_params[u]||{},w=$.param(r),o=s.max_pages||null,q=s.per_page||null,t=true;if(!p){t=false}else{if(o&&v>=o){t=false}else{if(q&&p<q){t=false}}}this.list_page_status[u][w]={last_page:v,maybe_more:t};if(t){this.list_page_status[u].__global__={all:false}}else{this.list_page_status[u].__global__={all:true,params:r,str_params:w};if(this["manage_global_for_"+u]){this["manage_global_for_"+u]()}}}),_fetch_more:(function n(q,u,t,p){var o=this,s,r;u=this.filter_fetchable_params(q,u);s=$.param(u);r=$.extend({},u,{page:o.list_page_status[q][s].last_page+1});o.fetch(q,function(v){o[q][s]=o[q][s].concat(v);o.update_list_page_status(q,u,r.page,v?v.length||0:0);t(v)},p,r)}),fetch_more:(function f(q,s,r,p){var o=this;this.list_page_status[q].__global__={all:false};this._fetch_more(q,r,s,function(t){o.controller.fetch_more_error(t,o,q,s,r,p)})}),fetch_all:(function m(u,p,v,s,w){var t=this,x;s=this.filter_fetchable_params(u,s);x=$.param(s);t.list_page_status[u].__global__={all:false};var r=function(y){p(y);if(t.list_page_status[u][x].maybe_more){o()}else{v()}};var q=function(y){t.controller.fetch_all_error(y,t,u,p,v,s,w)};var o=function(){t._fetch_more(u,s,r,q)};o()}),sort_and_filter_events:(function i(p,q){var r=p.mode==="display",o,s;if(!p.type){return r?q:[]}o=r?_.filter:_.reject;s=p.type.split(",");return o(q,function(t){return(s.indexOf(t.type)!==-1)})})})})(Reposio);(function(e){e.Models.account=e.Models.base.$extend({__classvars__:{model_name:"account",fields:{details:{},repositories:[],stars:[],own_events:[],received_events:[],followers:[],following:[],org_members:[],orgs:null},default_params:{repositories:{per_page:50},stars:{per_page:50},own_events:{per_page:30,max_pages:10},received_events:{per_page:30,max_pages:10},followers:{per_page:50},following:{per_page:50},org_members:{per_page:50}},fetchable_params:{repositories:["direction","sort","type"],stars:["direction","sort"],own_events:[],received_events:[]},sort_and_filter_helpers:{repositories:{filter_type:(function j(n){return(n.user.login==this.username)}),filter_type_method:{member:_.reject,owner:_.filter},filter_forks:(function d(n){return n.is_fork}),filter_forks_method:{no:_.reject,yes:_.filter},filter_language:(function i(n){return(n.language&&n.language==this)}),sort_field:{created:"created_at",pushed:"pushed_at",updated:"updated_at",full_name:"full_name"}},stars:{sort_field:{created:"starred_order",updated:"pushed_at"},filter_forks:(function g(n){return n.is_fork}),filter_forks_method:{no:_.reject,yes:_.filter},filter_language:(function b(n){return(n.language&&n.language==this)})}}},__init__:(function c(o,n){this.$super(o,n);this.username=this.ref}),manage_global_for_repositories:(function h(){var n=this.list_page_status.repositories.__global__;if(n.params.type!="all"){n.all=false}}),sort_and_filter_repositories:(function m(n,r){var p=this.list_page_status.repositories.__global__,o=this.$class.sort_and_filter_helpers.repositories,q=r||this.repositories[p.str_params];if(n.type&&n.type!="all"){q=o.filter_type_method[n.type](q,o.filter_type,this)}if(n.forks&&n.forks!="all"){q=o.filter_forks_method[n.forks](q,o.filter_forks)}if(n.language){q=_.filter(q,o.filter_language,n.language=="CSharp"?"C#":n.language)}if(r||n.sort!=p.params.sort){q=_.sortBy(q,o.sort_field[n.sort]);if(n.direction=="desc"){q.reverse()}}else{if(n.direction!=p.params.direction){q.reverse();if(n.type=="all"){p.params.direction=n.direction}}}return q}),manage_global_for_stars:(function l(){var n=this.list_page_status.stars.__global__;if(n.params.sort!="created"){n.all=false}}),sort_and_filter_stars:(function k(n,s){var q=this.list_page_status.stars.__global__,p=this.$class.sort_and_filter_helpers.stars,r=s||this.stars[q.str_params],t;if((!q.all&&n.sort=="created")||(q.all&&!q.default_order_saved)){if(q.all){q.default_order_saved=true}if((q.all?q.params:n).direction=="desc"){r.reverse();if(q.all){q.params.direction="asc"}}var o=q.all?"":_.uniqueId();_.each(r,function(v,u){v.starred_order=o+u});if(!q.all&&n.direction=="desc"){r.reverse()}}if(n.language){r=_.filter(r,p.filter_language,n.language=="CSharp"?"C#":n.language)}if(n.forks&&n.forks!="all"){r=p.filter_forks_method[n.forks](r,p.filter_forks,this)}if(s||n.sort!=q.params.sort){r=_.sortBy(r,p.sort_field[n.sort]);if(n.direction=="desc"){r.reverse()}}else{if(n.direction!=q.params.direction){r.reverse();q.params.direction=n.direction}}return r}),sort_and_filter_own_events:(function a(n,q){var o=this.list_page_status.own_events.__global__,p=q||this.own_events[o.str_params];return this.sort_and_filter_events(n,p)}),sort_and_filter_received_events:(function f(n,q){var o=this.list_page_status.received_events.__global__,p=q||this.received_events[o.str_params];return this.sort_and_filter_events(n,p)})})})(Reposio);(function(c){c.Models.repository=c.Models.base.$extend({__classvars__:{model_name:"repository",fields:{details:{},readme:"",activity:[],forks:[],stars:[],contributors:[]},default_params:{activity:{per_page:30,max_pages:10},forks:{per_page:50},stars:{per_page:50},contributors:{per_page:100}},fetchable_params:{forks:["sort"],activity:[]},sort_and_filter_helpers:{forks:{sort_field:{newest:"created_at",oldest:"created_at",watchers:"watchers_count"},filter_never_updated:(function e(f){return f.pushed_at<=f.created_at})}}},__init__:(function b(g,f){this.$super(g,f);this.path=this.ref;this.href_id=this.id.replace("/",":")}),sort_and_filter_forks:(function a(f,j){var h=this.list_page_status.forks.__global__,g=this.$class.sort_and_filter_helpers.forks,i=j||this.forks[h.str_params];if(f.never_updated=="hide"){i=_.reject(i,g.filter_never_updated)}i=_.sortBy(i,g.sort_field[f.sort]);if(f.sort!="oldest"){i.reverse()}return i}),sort_and_filter_activity:(function d(f,i){var g=this.list_page_status.activity.__global__,h=i||this.activity[g.str_params];return this.sort_and_filter_events(f,h)})})})(Reposio);(function(S){var i=(function k(ak){this.provider=ak});i.prototype.format=(function B(al,am){if(al.type&&this[al.type]){var ak=this[al.type](al,am);if(!ak){ak=this.base_format(al,am,"<em>("+al.type.replace("Event","").toLowerCase()+")</em>")}return{event:al,source:am,provider:this,html:ak,day:this.provider.controller.display.format_date(al.created_at)}}return null});i.prototype.format_actor=(function N(ak,am,al){if(al||am.$class.model_name!="account"||am.username!=ak.login){return this.provider.controller.display.account_link(ak.login,am.provider.name)}else{return"<strong>"+ak.login+"</strong>"}});i.prototype.format_repo=(function t(an,am,ap,ao,al){var ar=an.full_name||an.name,aq=ar.split("/"),ak;if(ao||ap.$class.model_name!="repository"||ap.path!=ar){ak=this.provider.controller.display.repository_link(ar,aq[1],ap.provider.name);if(al||am.login!=aq[0]&&(ap.$class.model_name!="account"||ap.username!=aq[0])){ak+="<span> by <strong>"+aq[0]+"</strong></span>";ak='<span class="repo-links">'+ak+"</span>"}}else{ak="<strong>"+aq[1]+"</strong>"}return ak});i.prototype.base_format=(function W(an,ao,am,aq,ap,al){var ak="";ak+='<p class="ui-li-aside">'+this.provider.controller.display.format_date(an.created_at,"show-time",null,"time-only")+"</p>";if(!ap&&an.repository&&(an.repository.name||an.repository.full_name)){ap=this.format_repo(an.repository,an.actor,ao)}ak+=this.format_actor(an.actor,ao)+" "+am;if(ap){ak+=" "+ap}if(aq){ak+='<p class="ui-li-desc">'+aq+"</p>"}if(al){ak+=this.format_external_link(al)}return ak});i.prototype.markdown_event_more=(function w(ak){if(!ak){return""}result='<div class="ui-li ui-li-static ui-btn-up-d ui-first-child ui-last-child markdown">';result+=marked(ak,{sanitize:true,breaks:true,smartLists:true});result+="</div>";return result});i.prototype.trigger_text=(function J(al,ak){if(ak){return'<a href="#" class="collapsible-trigger">'+al+"</a>"}else{return al}});i.prototype.more=(function ah(al){var ak='<div data-role="collapsible" data-content-theme="d" data-corners="false" data-mini="true" class="event-more"><h3>More</h3>';ak+=al;ak+="</div>";return ak});i.prototype.description_fetcher=(function A(al,am){var an,ak;if(al.repository.name&&al.repository.name!=am.path){ak=S.Models.repository.get(al.repository.name+"@github",this.provider.controller),an="Description: ";if(!ak.details){an+='<a href="#" class="fetch-desc-trigger" data-repository="'+ak.id+'">click to fetch</a>'}else{if(ak.details.description){an+="<strong>"+ak.details.description+"</strong>"}else{an+="<em>no description</em>"}}}return an});i.prototype.format_external_link=(function D(ak){var al='<a class="ui-li-link-alt ui-btn ui-btn-icon-notext ui-btn-up-c" data-theme="c" href="'+ak+'" target="_blank">';al+='<span class="ui-btn ui-btn-icon-notext">';al+='<span class="ui-btn-inner">';al+='<span class="ui-icon ui-icon-arrow-r">&nbsp;</span>';al+="</span>";al+="</span>";al+="</a>";return al});i.prototype.CommitCommentEvent=(function o(al,am){var ak=this.trigger_text("commented",al.comment.body)+" a commit on";return this.base_format(al,am,ak,null,null,al.comment.html_url)});i.prototype.more_CommitCommentEvent=(function P(ak,al){return this.more(this.markdown_event_more(ak.comment.body))});i.prototype.CreateEvent=(function Y(am,an){var ak="created",ao,al;switch(am.ref_type){case"branch":ak+=" a branch on";ao="Branch: <strong>"+am.ref+"</strong>";al="https://github.com/"+am.repository.name+"/tree/"+am.ref;break;case"repository":if(am.description){ao="Description: <strong>"+am.description+"</strong>"}al="https://github.com/"+am.repository.name;break;case"tag":ak+=" a tag on";ao="Tag: <strong>"+am.ref+"</strong>";al="https://github.com/"+am.repository.name+"/tree/"+am.ref;break}return this.base_format(am,an,ak,ao,null,al)});i.prototype.DeleteEvent=(function aa(al,am){var ak="deleted",an;switch(al.ref_type){case"branch":ak+=" a branch on";an="Branch: <strong>"+al.ref+"</strong>";break;case"tag":an="Tag: <strong>"+al.ref+"</strong>";break}return this.base_format(al,am,ak,an)});i.prototype.DownloadEvent=(function r(ak,al){});i.prototype.FollowEvent=(function I(ak,al){var am=this.format_actor(ak.target,al);return this.base_format(ak,al,"started following",null,am)});i.prototype.ForkEvent=(function Q(al,am){var ak=this.trigger_text("forked",al.forkee),an=this.description_fetcher(al,am);return this.base_format(al,am,ak,an)});i.prototype.more_ForkEvent=(function ab(ak,al){return this.more('<p class="ui-li ui-li-static ui-btn-up-d ui-first-child ui-last-child">Fork: '+this.format_repo(ak.forkee,ak.actor,al,null,true)+"</p>")});i.prototype.ForkApplyEvent=(function a(ak,al){return this.base_format(ak,al,"applied the fork queue to")});i.prototype.GistEvent=(function u(al,an){var am=al.action,ak,ao;if(!am.match(/d$/)){if(!am.match(/e$/)){am+="e"}am+="d"}ak=am+" a gist";if(al.gist.description){ao="Description: <strong>"+al.gist.description+"</strong>"}return this.base_format(al,an,ak,ao,null,al.gist.html_url)});i.prototype.GollumEvent=(function af(am,an){var ao=this.format_repo(am.repository,am.actor,an),ak=this.trigger_text("edited",true)+" the "+ao+" wiki",al="https://github.com/"+am.repository.name+"/wiki";return this.base_format(am,an,ak,null," ",al)});i.prototype.more_GollumEvent=(function ai(am,ao){var al='<ul data-role="listview" data-theme="d">';for(var ak=0;ak<am.pages.length;ak++){var an=am.pages[ak];al+="<li>";al+="<em>"+an.title+"</em> — <strong>"+an.action+"</strong>";al+="</li>"}al+="</ul>";return this.more(al)});i.prototype.IssueCommentEvent=(function T(am,an){var ak,ao=(am.is_pull_request?"Pull request":"Issue")+": <strong>#"+am.issue.number+" - "+am.issue.title+"</strong>",al;if(am.action=="created"){ak=this.trigger_text("commented",am.comment.body);ak+=" "+(am.is_pull_request?"a pull request":"an issue")+" on"}else{ak=am.action+" a ";ak+=this.trigger_text("comment",am.action!="deleted"&&am.comment.body);ak+=" on an issue on"}if(am.comment.html_url){al=am.comment.html_url}else{if(am.issue.html_url&&am.comment.id){al=am.issue.html_url+"#issuecomment-"+am.comment.id}}return this.base_format(am,an,ak,ao,null,al)});i.prototype.more_IssueCommentEvent=(function p(ak,al){return this.more(this.markdown_event_more(ak.comment.body))});i.prototype.IssuesEvent=(function z(al,am){var ak=al.action+" an "+this.trigger_text("issue",al.issue.body)+" on",an="Issue <strong>#"+al.issue.number+" - "+al.issue.title+"</strong>";return this.base_format(al,am,ak,an,null,al.issue.html_url)});i.prototype.more_IssuesEvent=(function C(ak,al){return this.more(this.markdown_event_more(ak.issue.body))});i.prototype.MemberEvent=(function L(al,am){var ak=al.action+" ";ak+=this.format_actor(al.member,am);ak+=" as a member "+(al.action=="added"?"to":"from");return this.base_format(al,am,ak)});i.prototype.PublicEvent=(function K(ak,al){return this.base_format(ak,al,"open sourced")});i.prototype.PullRequestEvent=(function R(al,am){var ak=al.action+" a "+this.trigger_text("pull request",al.pull_request.body)+" on",an="Pull request <strong>#"+al.pull_request.number+" - "+al.pull_request.title+"</strong>";return this.base_format(al,am,ak,an,null,al.pull_request.html_url)});i.prototype.more_PullRequestEvent=(function g(ak,al){return this.more(this.markdown_event_more(ak.pull_request.body))});i.prototype.PullRequestReviewCommentEvent=(function y(al,am){var ak=this.trigger_text("commented",al.comment.body)+" a pull request on",an;if(al.pull_request.number){an="Pull request <strong>#"+al.pull_request.number+"</strong>"}return this.base_format(al,am,ak,an,null,al.comment.html_url)});i.prototype.more_PullRequestReviewCommentEvent=(function q(ak,al){return this.more(this.markdown_event_more(ak.comment.body))});i.prototype.PushEvent=(function ae(am,an){var ak="pushed "+(am.size?this.trigger_text(am.size+" commit"+(am.size>1?"s":""),true):"")+" to",ao,al;if(am.ref&&am.ref.indexOf("refs/heads/")===0){ao="Branch: <strong>"+am.ref.replace("refs/heads/","")+"</strong>"}if(am.size==1){al="https://github.com/"+am.repository.name+"/commit/"+am.commits[0].sha}else{if(am.before&&am.head){al="https://github.com/"+am.repository.name+"/compare/"+am.before+"..."+am.head}}return this.base_format(am,an,ak,ao,null,al)});i.prototype.more_PushEvent=(function f(ap,aq){var ao='<ul data-role="listview" data-theme="d">';for(var an=0;an<ap.commits.length;an++){var ar=ap.commits[an],ak=ar.message.split("\n"),am=ak.shift(),al=ak.length?"<br />"+ak.join("<br />"):"";ao+="<li"+(al.length?' class="with-extension"':"")+">";ao+="<strong>"+ar.author.name+"</strong>";ao+=" — <em>";ao+=am;if(al){ao+='<span class="extension">'+al+"</span>"}ao+="</em>";ao+="</li>"}ao+="</ul>";return this.more(ao)});i.prototype.TeamAddEvent=(function H(ak,al){});i.prototype.WatchEvent=(function e(al,am){var ak=al.action+" watching",an=this.description_fetcher(al,am);return this.base_format(al,am,ak,an)});var ac=(function n(ak){var am,al=(providers_config?providers_config.github||{}:{});this.name="github";if(al.auth=="basic"&&al.username&&al.password){am="Basic "+Base64.encode(al.username+":"+al.password)}else{if(al.auth=="oauth"&&al.token){am="token "+al.token}}if(am){Gh3.Helper.headers.Authorization=am}Gh3.Helper.cache=false;this.controller=ak;this.formatter=new i(this)});ac.prototype.get_user=(function O(ak){return new Gh3.User(ak)});ac.prototype.get_repo=(function F(al){var ak=al.split("/");return new Gh3.Repository(ak[1],this.get_user(ak[0]))});ac.prototype.map_type={accounts:"account",repositories:"repository",events:"event"};ac.prototype.decorate_collback=(function d(an,ak,al){var am=this;return function(ap,aq){var ao;if(!ap){switch(al){case"field":ao=aq[ak];break;case"repositories":case"accounts":case"events":ao=_.map(aq[ak].getAll(),am["map_"+am.map_type[al]],am);break;default:ao=aq[ak].getAll()}}an(ap,ap?null:ao)}});ac.prototype.map=(function V(ao,am){var al={},ak;if(ao){for(var an=0;an<am._.length;an++){ak=am._[an];if(typeof(ao[ak])=="undefined"){continue}al[am[ak]||ak]=ao[ak]}}return al});ac.prototype.account_mapping={_:["login","type","avatar_url","name","created_at","company","location","email","blog","public_repos","followers_count","following_count","contributions"],blog:"site",public_repos:"repos_count"};ac.prototype.map_account=(function m(al){var ak={};if(al){ak=this.map(al,this.account_mapping)}return ak});ac.prototype.repository_mapping={_:["name","full_name","description","pushed_at","created_at","updated_at","forks_count","fork","watchers_count","language"],fork:"is_fork"};ac.prototype.map_repository=(function x(al){var ak={};if(al){ak=this.map(al,this.repository_mapping);if(al.fork&&al.parent){ak.parent=this.map_repository(al.parent)}if(al.user){ak.user=this.map_account(al.user)}}return ak});ac.prototype.map_event=(function c(ao){var ak={},aq;if(ao){aq=ao.payload||{};switch(ao.type){case"CommitCommentEvent":ak.comment=this.map(aq.comment,{_:["body","html_url"]});break;case"CreateEvent":ak=this.map(aq,{_:["ref_type","ref","description"]});break;case"DeleteEvent":ak=this.map(aq,{_:["ref_type","ref"]});break;case"FollowEvent":if(aq.target&&aq.target.login){ak.target={login:aq.target.login}}break;case"ForkEvent":if(aq.forkee&&isNaN(aq.forkee)){ak.forkee=this.map(aq.forkee,{_:["name","full_name"]})}break;case"GistEvent":ak=this.map(aq,{_:["action"]});ak.gist=this.map(aq.gist,{_:["description","html_url"]});break;case"GollumEvent":ak.pages=[];if(aq.pages&&aq.pages.length){for(var ar=0;ar<aq.pages.length;ar++){ak.pages.push(this.map(aq.pages[ar],{_:["title","action"]}))}}break;case"IssueCommentEvent":ak=this.map(aq,{_:["action"]});ak.issue=this.map(aq.issue,{_:["number","title","html_url"]});ak.issue.is_pull_request=(aq.issue&&aq.issue.pull_request&&aq.issue.pull_request.html_url);ak.comment=this.map(aq.comment,{_:["body","html_url","id"]});break;case"IssuesEvent":ak=this.map(aq,{_:["action"]});ak.issue=this.map(aq.issue,{_:["number","title","body","html_url"]});break;case"MemberEvent":ak=this.map(aq,{_:["action"]});if(aq.member&&aq.member.login){ak.member={login:aq.member.login}}break;case"PullRequestEvent":ak=this.map(aq,{_:["action","number"]});ak.pull_request=this.map(aq.pull_request,{_:["body","title","html_url"]});if(ak.number){ak.pull_request.number=ak.number;delete ak.number}break;case"PullRequestReviewCommentEvent":var al;ak.pull_request={};if(aq.comment._links&&aq.comment._links.pull_request&&aq.comment._links.pull_request.href){al=aq.comment._links.pull_request.href;al=al.match(/(\d+)\/?$/);al=al?al[1]:null;if(al){ak.pull_request.number=al}}ak.comment=this.map(aq.comment,{_:["body","html_url"]});if(!ak.comment.html_url&&aq.comment&&aq.comment._links&&aq.comment._links.html){ak.comment.html_url=aq.comment._links.html.href}break;case"PushEvent":var at,am;ak=this.map(aq,{_:["size","ref","before","head"]});ak.commits=[];if(ak.size){if(aq.commits){am=aq.commits;at=false}else{if(aq.shas){am=aq.shas;at=true}}if(!am.length){ak.size=0}else{for(var ap=0;ap<am.length;ap++){var an=am[ap];ak.commits.push({sha:at?an[0]:an.sha,message:at?an[2]:an.message,author:{name:at?an[3]:an.author.name}})}}}break;case"WatchEvent":ak=this.map(aq,{_:["action"]});break}ak.type=ao.type;ak.created_at=ao.created_at;ak.actor=this.map(ao.actor,{_:["login"]});ak.repository=this.map(ao.repository||ao.repo,{_:["name","full_name"]})}return ak});ac.prototype.get_account_details=(function G(ao,an,am){var al=this;function ak(ap,aq){if(!ap&&aq){aq=al.map_account(aq)}return an(ap,aq)}this.get_user(ao).fetch(ak,am)});ac.prototype.get_account_repositories=(function ad(am,al,ak){this.get_user(am).repositories.fetch(this.decorate_collback(al,"repositories","repositories"),ak)});ac.prototype.get_account_stars=(function ag(am,al,ak){this.get_user(am).starred.fetch(this.decorate_collback(al,"starred","repositories"),ak)});ac.prototype.get_account_own_events=(function v(am,al,ak){this.get_user(am).events.fetch(this.decorate_collback(al,"events","events"),ak)});ac.prototype.get_account_received_events=(function j(am,al,ak){this.get_user(am).received_events.fetch(this.decorate_collback(al,"received_events","events"),ak)});ac.prototype.get_account_followers=(function b(am,al,ak){this.get_user(am).followers.fetch(this.decorate_collback(al,"followers","accounts"),ak)});ac.prototype.get_account_following=(function aj(am,al,ak){this.get_user(am).following.fetch(this.decorate_collback(al,"following","accounts"),ak)});ac.prototype.get_account_org_members=(function U(am,al,ak){this.get_user(am).members.fetch(this.decorate_collback(al,"members","accounts"),ak)});ac.prototype.get_account_orgs=(function Z(am,al,ak){this.get_user(am).orgs.fetch(this.decorate_collback(al,"orgs","accounts"),ak)});ac.prototype.get_repository_details=(function s(al,ao,an){var am=this;function ak(ap,aq){if(!ap&&aq){aq=am.map_repository(aq)}return ao(ap,aq)}this.get_repo(al).fetch(ak,an)});ac.prototype.get_repository_readme=(function h(ak,am,al){this.get_repo(ak).fetchReadme(this.decorate_collback(am,"readme","field"),al)});ac.prototype.get_repository_activity=(function X(ak,am,al){this.get_repo(ak).events.fetch(this.decorate_collback(am,"events","events"),al)});ac.prototype.get_repository_forks=(function E(ak,am,al){this.get_repo(ak).forks.fetch(this.decorate_collback(am,"forks","repositories"),al)});ac.prototype.get_repository_stars=(function M(ak,am,al){this.get_repo(ak).stargazers.fetch(this.decorate_collback(am,"stargazers","accounts"),al)});ac.prototype.get_repository_contributors=(function l(ak,am,al){this.get_repo(ak).contributors.fetch(this.decorate_collback(am,"contributors","accounts"),al)});if(!S.Providers){S.Providers={}}S.Providers.github=ac})(Reposio);(function(D){D.View=Class.$extend({__classvars__:{model:null,view_name:null,views:{},views_cache:{},get:(function C(I,J){if(!this.views_cache[I.id]){this.views_cache[I.id]=new this.views[I.id](I,J)}return this.views_cache[I.id]})},__init__:(function A(I,J){this.page=I;this.display=J;this.nodes_cache=null;this.container=null;this.init_events();this.accept_options=this.__classvars__.accept_options}),init_events:(function G(){}),cache_nodes:(function p(){this.container=this.page.nodes.content;this.nodes_cache={}}),nodes:(function l(){if(!this.nodes_cache){this.cache_nodes()}return this.nodes_cache}),reset:(function x(){if(!this.page.node.data("mobile-page")){this.page.node.page()}}),update:(function n(J,I){})});D.View.views._list=D.View.$extend({__init__:(function y(I,J){this.$super(I,J);this.options={}}),cache_nodes:(function m(){this.$super();this.nodes_cache.list=this.container.children("ul");this.nodes_cache.load_buttons=this.container.children(".load-buttons");this.nodes_cache.load_more_button=this.nodes_cache.load_buttons.find("a.list-more-button");this.nodes_cache.load_all_button=this.nodes_cache.load_buttons.find("a.list-all-button")}),reset:(function o(){this.$super();var I=this.nodes();this.empty_list_node();I.load_buttons.addClass("ui-hidden");I.load_more_button.addClass("ui-disabled");I.load_all_button.addClass("ui-disabled")}),empty_list_node:(function f(){var I=this.nodes(),J=I.list[0];while(J.firstChild){J.removeChild(J.firstChild)}}),update:(function g(L,K){var J=this.nodes(),I=this.get_items(L,this.get_data(L));this.empty_list_node();if(I.length){I[0].className+=" ui-first-child";this.update_list_node(I)}this.update_load_buttons(L);this.refresh_widgets()}),update_list_node:(function r(K){var J=this.nodes(),M=J.list[0],I=M.lastChild;if(K.length){K[K.length-1].className+=" ui-last-child";if(I){I.className=I.className.replace("ui-last-child","")}for(var L=0;L<K.length;L++){M.appendChild(K[L])}}}),complete:(function i(L,K){var J=this.nodes(),I=this.get_items(L,this.prepare_data(L,K));this.update_list_node(I);this.refresh_widgets()}),update_load_buttons:(function a(L){var I=this.nodes();if(!I.load_buttons.length){return}var J=$.param(this.options),K=L.list_page_status[this.$class.data_field][J];if(!L.list_page_status[this.$class.data_field].__global__.all&&(K?K.maybe_more:true)){this.enable_load_buttons()}else{this.hide_load_buttons()}}),toggle_load_buttons_enabled:(function d(J){var I=this.nodes();if(!I.load_buttons.length){return}I.load_more_button.toggleClass("ui-disabled",!J);I.load_all_button.toggleClass("ui-disabled",!J);if(J){this.show_load_buttons()}}),disable_load_buttons:(function w(){this.toggle_load_buttons_enabled(false)}),enable_load_buttons:(function v(){this.toggle_load_buttons_enabled(true)}),toggle_load_buttons_visible:(function F(J){var I=this.nodes();if(!I.load_buttons.length){return}I.load_buttons.toggleClass("ui-hidden",!J);if(!J){this.disable_load_buttons()}}),hide_load_buttons:(function q(){this.toggle_load_buttons_visible(false)}),show_load_buttons:(function B(){this.toggle_load_buttons_visible(true)}),refresh_widgets:(function H(){}),get_data:(function u(I){return I.get_list(this.$class.data_field,this.options)}),prepare_data:(function k(J,I){return J.get_list(this.$class.data_field,this.options,I)}),get_items:(function z(J,I){}),options_form:(function e(){var I=this,L="#"+this.$class.view_name+"_options";if(!this._options_form){this._options_form=$(L);if(!this._options_form.length){var K=I.display.get_template(I.$class.view_name+"_options",true),J=$(K);this._options_form=J.find(L);setTimeout(function(){J.collapsible();$.mobile.checkboxradio.prototype.enhanceWithin(I._options_form,true);$.mobile.button.prototype.enhanceWithin(I._options_form,true);$.mobile.selectmenu.prototype.enhanceWithin(I._options_form,true);$.mobile.controlgroup.prototype.enhanceWithin(I._options_form,true);I.page.nodes.content.prepend(K)},500)}}return this._options_form}),get_options_from_form:(function h(){var P=this.options_form().serializeArray(),I,J={},Q=[],M={},L={},K=this.$class.view_name+"_options_";for(var O=0;O<P.length;O++){I=P[O].name.replace(K,"");if(I=="submit"){continue}if(!_.contains(Q,I)){Q.push(I);L[I]=$("#"+P[O].name).is("select[multiple=multiple]")}if(L[I]){if(!J[I]){J[I]=[]}J[I].push(P[O].value)}else{J[I]=P[O].value}}Q.sort();for(var N=0;N<Q.length;N++){M[Q[N]]=J[Q[N]]}return M}),manage_options:(function c(I){var J,K,L={},M=this.$class.view_name+"_options_";this.options_form().find("[type=reset]").click();J=$.extend({},this.$class.default_options);if(I){for(K in I){if(typeof(J[K])!=="undefined"){J[K]=decodeURIComponent(I[K])}}}for(K in J){L[M+K]=J[K]}this.options_form().unserializeForm($.param(L));this.options=J;return this.options}),init_events:(function E(){var K=this,N=(function L(S){S.preventDefault();S.stopPropagation();var Q=K.get_options_from_form(),P={},T="#"+K.$class.view_name;T+="!"+K.$class.model+"="+K.display.controller[K.$class.model].id.replace("/",":");for(var R in Q){P[R]=encodeURIComponent(Q[R])}T+="&"+$.param(P);window.location.hash=T;return false}),O=(function J(P){P.preventDefault();P.stopPropagation();if(!$(this).hasClass("ui-disabled")){var Q=K.display.pages[$.mobile.activePage.data("url")];$.mobile.loading("show");K.disable_load_buttons();K.display.ask_for_more(Q)}return false}),I=(function M(P){P.preventDefault();P.stopPropagation();if(!$(this).hasClass("ui-disabled")){var Q=K.display.pages[$.mobile.activePage.data("url")];$.mobile.loading("show");K.disable_load_buttons();K.display.ask_for_all(Q)}return false});$(document).on("submit","#"+this.__classvars__.view_name+"_options",N);$(document).on("click","#"+this.__classvars__.view_name+"_load_buttons .list-more-button",O);$(document).on("click","#"+this.__classvars__.view_name+"_load_buttons .list-all-button",I)})});D.View.views._accounts=D.View.views._list.$extend({get_items:(function s(J,I){return this.display.create_accounts_list_items(I,J.provider)})});D.View.views._repositories=D.View.views._list.$extend({get_items:(function j(J,I){return this.display.create_repositories_list_items(I,J.provider)})});D.View.views._events=D.View.views._list.$extend({get_items:(function b(M,K){var I=[];for(var J=0;J<K.length;J++){var L=M.provider.formatter.format(K[J],M);if(L){I.push(L)}}return this.display.create_events_list_items(I)}),refresh_widgets:(function t(){this.display.render_widgets(this.nodes().list)})})})(Reposio);(function(c){c.View.views.account_home=c.View.$extend({__classvars__:{model:"account",view_name:"account_home"},cache_nodes:(function d(){this.$super();var f=this.nodes_cache;var e=this.container.children(".account-main").children();f.avatar=e.children("img");f.provider=e.children("p.provider");f.name=e.children("p.account-name");var g=e.children("h3");f.username=g.children("strong");f.organization=g.children("span");f.infos=this.container.children(".account-details");f.infos_loading=f.infos.children(".failover");f.infos_items=f.infos.children(".ui-li-has-icon");f.company_container=f.infos.children("li.account-company");f.company=f.company_container.children(":last");f.location_container=f.infos.children("li.account-location");f.location=f.location_container.children(":last");f.email_container=f.infos.children("li.account-email");f.email=f.email_container.children(":last");f.created_at_container=f.infos.children("li.account-created_at");f.created_at=f.created_at_container.children(":last");f.site_container=f.infos.children("li.account-site");f.site=f.site_container.find("a");f.orgs_container=this.container.children(".account-orgs")}),reset:(function b(){this.$super();var e=this.nodes();e.username.html("loading...");e.name.html("");e.organization.hide();e.avatar.attr("src","img/default-avatar.png");e.infos_items.hide();e.infos_loading.show();this.display.clear_listview(e.orgs_container,"Loading...",true);e.orgs_container.show()}),update:(function a(k,g){var f=this.nodes(),l=this,j=(k.details.type=="Organization");if(j){f.orgs_container.hide()}f.username.html(k.username);f.organization.toggle(j);f.provider.html(k.provider.name);f.avatar.attr("src",k.details.avatar_url);f.name.html(k.details.name||"");f.name.toggle(!!k.details.name);f.created_at.html(this.display.format_date(k.details.created_at));f.created_at_container.show();f.infos_loading.hide();f.company.html(k.details.company||"");f.company_container.toggle(!!k.details.company);f.location.html(k.details.location||"");f.location_container.toggle(!!k.details.location);var n=!!(k.details.email&&k.details.email.indexOf("@")!==-1);f.email.html(n?k.details.email:"");f.email_container.toggle(n);f.site.html(k.details.site||"");f.site_container.toggle(!!k.details.site);f.site.attr("href",k.details.site||"/");if(!j){var i=(function h(o){k.orgs=o;if(k.orgs&&k.orgs.length){l.display.clear_listview(f.orgs_container);f.orgs_container.append(l.display.create_accounts_list_items(k.orgs,k.provider));f.orgs_container.listview("refresh")}else{l.display.clear_listview(f.orgs_container,"No organizations",true);f.orgs_container.fadeOut()}});var m=(function e(o){l.display.clear_listview(f.orgs_container,"Failed to load organizations",true)});if(k.orgs===null||g){k.fetch("orgs",i,m)}else{i(k.orgs)}}l.container.children("ul[data-role=listview]").listview("refresh")})});c.View.views.account_repositories=c.View.views._repositories.$extend({__classvars__:{model:"account",view_name:"account_repositories",data_field:"repositories",accept_options:true,default_options:{direction:"desc",forks:"all",language:null,sort:"pushed",type:"all"}}});c.View.views.account_stars=c.View.views._repositories.$extend({__classvars__:{model:"account",view_name:"account_stars",data_field:"stars",accept_options:true,default_options:{direction:"desc",forks:"all",language:null,sort:"created"}}});c.View.views.account_followers=c.View.views._accounts.$extend({__classvars__:{model:"account",view_name:"account_followers",data_field:"followers"}});c.View.views.account_following=c.View.views._accounts.$extend({__classvars__:{model:"account",view_name:"account_following",data_field:"following"}});c.View.views.account_members=c.View.views._accounts.$extend({__classvars__:{model:"account",view_name:"account_members",data_field:"org_members"}});c.View.views.account_activity=c.View.views._events.$extend({__classvars__:{model:"account",view_name:"account_activity",data_field:"own_events",accept_options:true,default_options:{mode:"display",type:null}}});c.View.views.account_events=c.View.views._events.$extend({__classvars__:{model:"account",view_name:"account_events",data_field:"received_events",accept_options:true,default_options:{mode:"display",type:null}}})})(Reposio);(function(b){b.View.views.repository_home=b.View.$extend({__classvars__:{model:"repository",view_name:"repository_home"},cache_nodes:(function a(){this.$super();var g=this.nodes_cache;var f=this.container.children(".repo-main").children("li");g.provider=f.children("p.provider");var h=f.children("div.repo-path");g.name=h.children("strong.repo-name");g.owner_container=h.children("span.repo-owner-container");g.owner=g.owner_container.children("span.repo-owner");g.fork_container=f.children("div.repo-fork");var i=f.find(".repo-links");g.fork_name=i.children("span.repo-fork-name");g.fork_owner=i.find("span strong.repo-fork-owner");g.last_push_container=f.children("p.repo-last-push");g.last_push=g.last_push_container.children("span");g.desc_readme=this.container.children("div");g.description_container=g.desc_readme.children("div.repo-desc-container");g.description=g.description_container.find(".repo-desc");g.readme_container=g.desc_readme.children("div.repo-readme-container");g.readme=g.readme_container.find(".repo-readme")}),reset:(function e(){this.$super();var f=this.nodes();f.name.html("loading...");f.owner_container.hide();f.owner.html("...");f.fork_container.hide();f.last_push_container.hide();f.desc_readme.hide();f.description.html("");f.readme.html("<em>Loading...</em>")}),update:(function d(h,k){var f=this.nodes();f.provider.html(h.provider.name);f.name.html(h.details.name);f.owner.html(this.display.account_link(h.details.user.login,h.provider.name));f.owner_container.show();if(h.details.is_fork){f.fork_name.html(this.display.repository_link(h.details.parent.full_name,h.details.parent.name,h.provider.name));f.fork_owner.html(h.details.parent.user.login);f.fork_container.show()}f.last_push.html(h.details.pushed_at?this.display.format_date(h.details.pushed_at,true):"never !");f.last_push_container.show();f.description.html(h.details.description||"<em>No description!</em>");if(!h.details.description){f.description_container.hide()}var l=(function j(m){h.readme=m;if(!h.readme&&f.readme_container.hasClass("ui-collapsible-collapsed")){f.readme_container.fadeOut()}else{f.readme.html(h.readme||"<em>No readme!</em>")}});var g=(function i(m){f.readme.html("<em>Failed to load readme!</em>")});if(h.readme===null||k){h.fetch("readme",l,g)}else{l(h.readme)}f.desc_readme.show();this.display.render_widgets(this.container)})});b.View.views.repository_forks=b.View.views._repositories.$extend({__classvars__:{model:"repository",view_name:"repository_forks",data_field:"forks",accept_options:true,default_options:{never_updated:"show",sort:"newest"}}});b.View.views.repository_activity=b.View.views._events.$extend({__classvars__:{model:"repository",view_name:"repository_activity",data_field:"activity",accept_options:true,default_options:{mode:"display",type:null}}});b.View.views.repository_contributors=b.View.views._accounts.$extend({__classvars__:{model:"repository",view_name:"repository_contributors",data_field:"contributors"},get_items:(function c(g,h){for(var f=0;f<h.length;f++){h[f].html_prepend='<p class="ui-li-aside count ui-li-desc">'+h[f].contributions+"</p>"}return this.$super(g,h)})});b.View.views.repository_stars=b.View.views._accounts.$extend({__classvars__:{model:"repository",view_name:"repository_stars",data_field:"stars"}})})(Reposio);