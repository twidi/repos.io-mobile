var Reposio={};$(document).ready((function App__on_ready(){Reposio.controller=new Reposio.Controller();Reposio.controller.init();}));(function(a){var b=(function c(){this.providers={};for(var b in a.Providers)this.providers[b]=new a.Providers[b](this);for(var c in a.Models)this[c]=null;this.display=new a.Display(this);});b.prototype.init=(function d(){this.display.init();});b.prototype.set_current_object=(function e(b,c){var d=(this[b]===null||this[b].id!=c);if(d){this[b]=a.Models[b].get(c,this);this.display['change_'+b]();}this.display['update_'+b+'_navbar'](this[b]);return d;});b.prototype.fetch_full_error=(function f(a,b,c,d,e,f,g){if(this.display.confirm_new_fech('full','this page',a,g))b.fetch_full(c,d,e,f,g);});b.prototype.fetch_more_error=(function g(a,b,c,d,e,f){if(this.display.confirm_new_fech('more','more',a,f))b.fetch_more(c,d,e,f);});b.prototype.fetch_all_error=(function h(a,b,c,d,e,f,g){if(this.display.confirm_new_fech('all','all',a,g))b.fetch_all(c,d,e,f,g);});a.Controller=b;})(Reposio);(function(a){var b=(function c(a){this.controller=a;});b.prototype.init=(function d(){var a=this;this.templates_container=$('#templates');for(var b in this.pages_list)this.construct_pages(b,this.pages_list[b]);$.mobile.initializePage();a.init_events();var c=$('div[data-role=page]:not(.ui-page)'),d=$('#progress-loader'),e=c.length,f=(function g(a,b){if(b<a.length){var c=Math.max(6,Math.min(Math.round(100*(b+1)/e),100));d.css({width:c+'%'});setTimeout((function g(){var c=a.eq(b);c.page();f(a,b+1);}),10);if(b==2)$('html').removeClass('loading');}else $('#first-loader').remove();});f(c,0);});b.prototype.format_date=(function e(a,b,c,d){if(!a)return '';var e=a.split('T');if(b){var f=e[1].slice(0,c?8:5);return(d?'':e[0]+' ')+f;}else return e[0];});b.prototype.nodes={};b.prototype.templates={};b.prototype.pages_list={};b.prototype.pages={};b.prototype.construct_pages=(function f(b,c){for(var d=0;d<c.length;d++){var e=c[d];e.name=e.id;e.id=b+'_'+e.name;e.type=b;if(!e.title)e.title=e.name[0].toUpperCase()+e.name.slice(1);if(!e.method)e.method=e.name;}var f='',g=(c.length>4);for(var h=0;h<c.length;h++){var i=c[h],j='',k=[];if(g){k.push(c[0]);k.push(c[1]);k.push(c[(h<2)?2:h]);}else k=c;j='<div data-role="page" id="'+i.id+'">';j+='<div data-role="header" data-id="'+b+'_pages" data-position="fixed" data-theme="a">';j+='<h3></h3>';j+='<a href="#main_menu_'+i.id+'" data-icon="gear" data-iconpos="notext" data-rel="popup" class="ui-btn-right">Options</a>';j+='<div data-role="navbar">';j+='<ul'+(g?' class="extended"':'')+'>';for(var l=0;l<k.length;l++){var m=k[l];j+='<li>';j+='<a href="#'+m.id+'"'+(l<h?' data-direction="reverse"':'')+' class="'+(m.name==i.name?'ui-btn-active ui-state-persist ':'')+m.id+'-link">';j+=m.title;if(m.count)j+='<span class="'+m.id+'-count ui-li-count ui-btn-up-c ui-btn-corner-all">?</span>';j+='</a>';j+='</li>';}if(g)j+='<li><a data-rel="popup" href="#menu_'+i.id+'">...</a>';j+='</ul>';j+='</div>';j+='</div>';j+='<div data-role="content"></div>';if(g){j+='<div data-role="popup" id="menu_'+i.id+'" data-theme="a" class="nav-menu">';j+='<ul data-inset="true" data-theme="a">';for(var n=0;n<c.length;n++){var o=c[n];j+='<li>';j+='<a href="#'+o.id+'" class="'+(o.name==i.name?'ui-btn-active ':'')+o.id+'-link">';j+=o.title;if(o.count)j+='<span class="'+o.id+'-count ui-li-count ui-btn-up-c ui-btn-corner-all">?</span>';j+='</a>';j+='</li>';}j+='</ul>';j+='</div>';}j+='<div data-role="popup" id="main_menu_'+i.id+'" data-theme="a" class="main-nav-menu">';j+='</div>';j+='</div>';f+=j;}$('body').append(f);for(var p=0;p<c.length;p++){var q=c[p],r=$('#'+q.id),s=$('#main_menu_'+q.id),t=this.get_template(q.id,true,true);q.nodes={links:$('a.'+q.id+'-link'),page:r,header:r.children(':jqmData(role=header)').children('h3'),content:r.children(":jqmData(role=content)"),main_menu:s,refresh_control:$(),go_button:$()};q.node=q.nodes.page;if(t)q.nodes.content.prepend(t.children);q.view=a.View.get(q,this);this.pages[q.id]=q;}});b.prototype.update_go_button=(function g(a,b){var c=a.nodes.go_button;if(c.length){c.toggleClass('ui-disabled',!b);c.attr('href',b||'');}});b.prototype.init_events=(function h(){var b=this;$(document).on("pagebeforechange",(function c(a,c){if(typeof c.toPage!=="string")return;if(c.options.dataUrl)c.options.dataUrl=c.options.dataUrl.replace('?','!');c.options.allowSamePageTransition=true;if(c.toPage==$.mobile.path.stripQueryParams(location.href.replace('!','?')))c.options.transition='none';b.on_before_page_change(a,c);}));$(document).on("pagechange",(function d(a,c){b.update_fullscreen_control();if($.mobile.activePage&&$.mobile.activePage.hasClass('current_page')&&!$.mobile.activePage.hasClass('page_loaded'))$.mobile.loading('show');try{var d=b.pages[c.toPage.data('url')],e=b['get_real_'+d.type+'_page'](d.name,b.controller[d.type]);d.nodes.main_menu.data('go-button-url',e);b.update_go_button(d,e);}catch(f){}}));$('.nav-menu').on("popupafterclose",(function e(){var a=$(this),b=a.find('a.ui-btn-active'),c,d;if(b.length){d=a.parents('.ui-page');if(d.length){c=b.attr('href');d.find('.ui-header .ui-navbar a[href="'+c+'"]').addClass('ui-btn-active');}}}));$('.nav-menu').on("popupbeforeposition",(function f(){var a=$(this).children('ul');if(!a.hasClass('ui-listview'))a.listview();}));$('.main-nav-menu').on("popupbeforeposition",(function g(){var a=$(this);if(!a.children().length){var c=b.get_template('main-nav-menu');a.append(c.cloneNode(true));a.trigger('create');var d=b.pages[$.mobile.activePage.data('url')];d.nodes.refresh_control=d.nodes.main_menu.find('.refresh-control');d.nodes.go_button=d.nodes.main_menu.find('.go-button');b.update_go_button(d,d.nodes.main_menu.data('go-button-url'));}}));$(document).on('click','.list-events a.collapsible-trigger',(function h(a){a.preventDefault();a.stopPropagation();var c=$(this),d=c.hasClass('opened'),e,f,g,h;if(!c.hasClass('filled')){c.addClass('filled');h=c.parents('li');f=h[0].event_data;if(f.provider['more_'+f.event.type]){g=f.provider['more_'+f.event.type](f.event,f.source);h.append(g);e=h.children(':last');e.collapsible();b.render_widgets(e);c.data('collapsible',e);setTimeout(function(){e.trigger(d?'collapse':'expand');},100);}}else{e=c.data('collapsible');if(e)e.trigger(d?'collapse':'expand');}c.toggleClass('opened',!d);return false;}));$(document).on('click','.list-events a.fetch-desc-trigger',(function i(c){c.preventDefault();c.stopPropagation();var d=$(this),e=d.data('repository'),f=a.Models.repository.get(e,b.controller),g=(function h(a){$('p.ui-li-desc[data-fetching-repository="'+e+'"]').each((function b(){var b=$(this);b.children().remove();b.append(a);}));}),i=(function j(){var a=$(this),b=a.parent();b.children().remove();b.append('<em>loading...</em>').attr('data-fetching-repository',e);}),k=(function l(a){var b;f.details=a;if(f.details.description)b='<strong>'+f.details.description+' </strong>';else b='<em>no description</em>';g(b);}),m=(function n(a){g('<em>Loading failed! ('+b.get_error_text(a)+') </em><a href="#" class="fetch-desc-trigger" data-repository="'+f.id+'">Retry ?</a>');});$('a.fetch-desc-trigger[data-repository="'+e+'"]').each(i);if(f.details)k();else f.fetch('details',k,m,null,'fail_if_404');}));$(document).on('click','li.with-extension',(function j(a){a.preventDefault();a.stopPropagation();$(this).toggleClass('extended');return false;}));$(document).on('click','.refresh-control',(function k(a){a.preventDefault();a.stopPropagation();var c=b.pages[$.mobile.activePage.data('url')];options=c.view.accept_options?c.view.get_options_from_form():null;$.mobile.loading('show');b.ask_for_page(c.id,b.controller[c.type].id,options,'force');c.nodes.main_menu.popup('close');}));if(screenfull.enabled){$(document).on('change','.fullscreen-control',(function l(a){$(this).parents('.main-nav-menu').popup('close');screenfull.toggle();}));screenfull.onchange=b.update_fullscreen_control;}else{var m=$('.fullscreen-control');m.parents('.ui-checkbox').add(m.parents('label')).remove();}});b.prototype.update_fullscreen_control=(function i(){$('.fullscreen-control').attr("checked",screenfull.isFullscreen).each(function(){try{$(this).checkboxradio("refresh");}catch(a){}});});b.prototype.on_before_page_change=(function j(a,b){var c=$.mobile.path.parseUrl(b.toPage),d,e;if(c.hash&&b.options){d=c.hash.slice(1);if(this.pages[d]){e=this.pages[d];if(b.options.pageData&&b.options.pageData[e.type]){$.mobile.loading('show');this.ask_for_page(e.id,b.options.pageData[e.type],_.omit(b.options.pageData,e.type));return;}}}if(e||!$(c.hash).length){$.mobile.changePage($('#home'));a.preventDefault();}});b.prototype.is_page_for=(function k(a,b,c){var d=a.node.data('current-for');if(!d||d!=b.id)return false;if(a.view.accept_options&&a.node.data('current-options')!=$.param(c))return false;return true;});b.prototype.ask_for_page=(function l(a,b,c,d){b=b.replace(':','/');var e=this,f=this.pages[a],g=this.controller.set_current_object(f.type,b),h=this.controller[f.type],i=f.view.accept_options?f.view.manage_options(c):{};$('.current_page, .page_loaded').removeClass('current_page page_loaded');f.node.addClass('current_page');f.node.data('title',f.nodes.header.text());if(!d&&this.is_page_for(f,h,i))this.post_render_page(f);else{f.nodes.refresh_control.addClass('ui-disabled');f.view.reset();if(f.view.accept_options)f.node.data('current-options',$.param(i));f.node.data('current-for',h.id);h.fetch_full(f.method,(function j(){e.render_page(f,h,i,d);}),i,d);}});b.prototype.ask_for_more=(function m(a){var b=this,c=this.controller[a.type],d=a.view.options;c.fetch_more(a.method,(function e(e){if(!b.is_page_for(a,c,d))return;a.view.complete(c,e);a.view.update_load_buttons(c);if(a.node.hasClass('current_page'))$.mobile.loading('hide');}),d,(function f(){a.view.enable_load_buttons();}));});b.prototype.ask_for_all=(function n(a){var b=this,c=this.controller[a.type],d=a.view.options;c.fetch_all(a.method,(function e(e){if(!b.is_page_for(a,c,d))return;a.view.complete(c,e);}),(function f(){if(!b.is_page_for(a,c,d))return;if(a.node.hasClass('current_page')){a.view.hide_load_buttons();$.mobile.loading('hide');}}),d,(function g(){a.view.enable_load_buttons();}));});b.prototype.render_page=(function o(a,b,c,d){if(!this.is_page_for(a,b,c))return;a.view.update(b,d);if(a.node.hasClass('current_page')){this['update_'+a.type+'_navbar'](b);this.post_render_page(a);}});b.prototype.post_render_page=(function p(a){$.mobile.loading('hide');a.node.addClass('page_loaded');a.nodes.refresh_control.removeClass('ui-disabled ui-btn-active');});b.prototype.render_widgets=(function q(a){a.find(":jqmData(role=listview)").listview();a.find(":jqmData(role=collapsible-set)").collapsibleset();a.find(":jqmData(role=collapsible)").collapsible();a.find(":jqmData(role=button)").button();a.find(":jqmData(role=table)").table();});b.prototype.create_events_list_items=(function r(a){var b=this.get_template('event-list-day'),c=this.get_template('event-list-item'),d=[],e=null,f,g;for(var h=0;h<a.length;h++){g=a[h];if(g.day!=e){f=b.cloneNode(true);f.innerHTML=g.day;e=g.day;d.push(f);}f=c.cloneNode(true);f.innerHTML=g.html;f.event_data={event:g.event,source:g.source,provider:g.provider};d.push(f);}return d;});b.prototype.get_error_text=(function s(a){var b='';if(a){if(a.statusText)b=a.statusText;if(a.status){if(a.statusText)b+=' - ';b+=a.status;}}if(!b)b='undefined error';return b;});b.prototype.confirm_new_fech=(function t(a,b,c,d){$.mobile.loading('hide');var e=confirm('Unable to fetch '+b+' ('+this.get_error_text(c)+'), retry ?');if(e)$.mobile.loading('show');else if(d)d();else switch(a){case 'full':history.go(-1);break;case 'more':case 'all':}return e;});b.prototype.get_template=(function u(a,b,c){var d,e;if(!this.templates[a]){d=this.templates_container.find('[data-template-for='+a+']')[0];e=document.createElement('div');e.innerHTML=d.childNodes[0].nodeValue;if(!c)e=e.removeChild(e.children[0]);d.parentNode.removeChild(d);this.templates[a]=e;}e=this.templates[a];if(b)delete this.templates[a];return e;});b.prototype.clear_listview=(function v(a,b,c){a.children(':not(.ui-li-divider)').remove();if(b)a.append('<li class="failover">'+b+'</li>');if(c)a.listview('refresh');});a.Display=b;})(Reposio);(function(a){a.Display.prototype.pages_list.account=[{id:'home',title:'Details',method:'details'},{id:'repositories',title:'Repos',count:true},{id:'activity',method:'own_events'},{id:'members',method:'org_members'},{id:'stars'},{id:'following',count:true},{id:'followers',count:true},{id:'events',method:'received_events'}];a.Display.prototype.change_account=(function b(){$('.account_repositories-count').hide();$('.account_followers-count').hide();$('.account_following-count').hide();for(var a=0;a<this.pages_list.account.length;a++){var b=this.pages_list.account[a];for(var c=0;c<b.nodes.links.length;c++)b.nodes.links[c].href='#'+b.id+'!account='+this.controller.account.id;b.nodes.header.html(this.controller.account.id+' - '+b.title);b.node.removeData('current-for');}});a.Display.prototype.account_link=(function c(a,b){return '<a class="mini-button" data-role="button" data-inline="true" data-mini="true" data-theme="a" href="#account_home!account='+a+'@'+b+'">'+a+'</a>';});a.Display.prototype.create_accounts_list_items=(function d(a,b){var c=this.get_template('account-list-item'),d=[];for(var e=0;e<a.length;e++){var f=a[e],g='#account_home!account='+f.login+'@'+b.name,h=c.cloneNode(true),i=h.getElementsByTagName('a')[0],j=i.children,k=j[0],l=j[1],m=[];i.href=g;l.innerHTML=f.login;k.src=f.avatar_url;if(f.html_prepend)$(i).prepend(f.html_prepend);d.push(h);}return d;});a.Display.prototype.update_account_navbar=(function e(a){var b=(a.details&&a.details.type.toLowerCase()=='organization');$('.go-button').find('.provider').html(a.provider.name);$('.account_members-link').closest('li').toggle(b);$('.account_repositories-count').html(a.details?a.details.repos_count:'?').show();$('.account_followers-count').html(a.details?a.details.followers_count:'?').show();$('.account_following-count').html(a.details?a.details.following_count:'?').show();});a.Display.prototype.get_real_account_page=(function f(a,b){var c=(b.details&&b.details.type.toLowerCase()=='organization');switch(a){case 'home':return 'https://github.com/'+b.username;case 'repositories':return 'https://github.com/'+b.username+'?tab=repositories';case 'activity':return c?null:'https://github.com/'+b.username+'?tab=activity';case 'followers':return 'https://github.com/'+b.username+'/followers';case 'stars':case 'following':return 'https://github.com/'+b.username+'/following';case 'members':return c?'https://github.com/'+b.username+'?tab=members':null;}return null;});})(Reposio);(function(a){a.Display.prototype.pages_list.repository=[{id:'home',title:'Details',method:'details'},{id:'activity'},{id:'contributors'},{id:'forks',count:true},{id:'stars',count:true}];a.Display.prototype.change_repository=(function b(){$('.repository_forks-count').hide();$('.repository_stars-count').hide();for(var a=0;a<this.pages_list.repository.length;a++){var b=this.pages_list.repository[a];for(var c=0;c<b.nodes.links.length;c++)b.nodes.links[c].href='#'+b.id+'!repository='+this.controller.repository.id.replace('/',':');b.nodes.header.html(this.controller.repository.id+' - '+b.title);b.node.removeData('current-for');}});a.Display.prototype.repository_link=(function c(a,b,c){a=a.replace('/',':');return '<a class="mini-button" data-role="button" data-inline="true" data-mini="true" data-theme="b" href="#repository_home!repository='+a+'@'+c+'">'+b+'</a>';});a.Display.prototype.create_repositories_list_items=(function d(a,b){var c=this.get_template('repository-list-item'),d=[];for(var e=0;e<a.length;e++){var f=a[e],g=f.full_name||f.name,h='#repository_home!repository='+g.replace('/',':')+'@'+b.name,i=c.cloneNode(true),j=i.getElementsByTagName('a')[0],k=j.children,l=k[1],m=k[2],n=k[3],o=[];j.href=h;l.innerHTML=g;if(f.description)m.innerHTML=f.description;else o.push('no-desc');if(!f.is_fork)o.push('no-fork');if(f.pushed_at)n.getElementsByTagName('span')[0].innerHTML=this.format_date(f.pushed_at,true);else o.push('no-date');if(o.length)i.className+=' '+o.join(' ');d.push(i);}return d;});a.Display.prototype.update_repository_navbar=(function e(a){$('.go-button').find('.provider').html(a.provider.name);$('.repository_forks-count').html(a.details?a.details.forks_count:'?').show();$('.repository_stars-count').html(a.details?a.details.watchers_count:'?').show();});a.Display.prototype.get_real_repository_page=(function f(a,b){switch(a){case 'home':case 'activity':return 'https://github.com/'+b.path;case 'contributors':return 'https://github.com/'+b.path+'/contributors';case 'forks':return 'https://github.com/'+b.path+'/network';case 'stars':return 'https://github.com/'+b.path+'/stargazers';}return null;});})(Reposio);(function(a){a.Models={};a.Models.base=Class.$extend({__classvars__:{model_name:null,fields:{},cache:{},default_params:{},fetchable_params:{},get:(function b(a,b){if(!this.cache[this.model_name])this.cache[this.model_name]={};if(!this.cache[this.model_name][a])this.cache[this.model_name][a]=new this(a,b);return this.cache[this.model_name][a];})},__init__:(function c(a,b){var c=a.split('@');this.id=a;this.ref=c[0];this.provider=b.providers[c[1]];this.controller=b;this.list_page_status={};for(var d in this.__classvars__.fields)if(this.__classvars__.fields[d] instanceof Array){this[d]={};this.list_page_status[d]={__global__:{all:false}};}else this[d]=null;}),get_list:(function d(a,b,c){var d=this.filter_fetchable_params(a,b);if(this['sort_and_filter_'+a]){var e=this.list_page_status[a].__global__.all;if(!e){var f=this.filter_unfetchable_params(a,b);if(!_.isEmpty(f)){c=c||this[a][$.param(d)];e=true;}}if(e){var g=this['sort_and_filter_'+a](b,c);if(g!==null)return g;}}return c||this[a][$.param(d)];}),filter_fetchable_params:(function e(a,b){b=b||{};if(this.$class.fetchable_params[a])return _.pick(b,this.$class.fetchable_params[a]);else return b;}),filter_unfetchable_params:(function f(a,b){b=b||{};if(this.$class.fetchable_params[a])return _.omit(b,this.$class.fetchable_params[a]);else return{};}),fetch:(function g(a,b,c,d,e){var f=this;d=d||{};if(this.$class.default_params[a]){d=$.extend({},this.$class.default_params[a],d);delete d.max_pages;}f.provider['get_'+f.$class.model_name+'_'+a](f.ref,function(d,g){if(d&&d.status==404&&!e){g=f.$class.fields[a];d=null;}if(d){if(c)c(d);}else if(b)b(g);},d);}),fetched:(function h(a,b){if(this.$class.fields[a] instanceof Array){if(this.list_page_status[a].__global__.all)return true;return(typeof this[a][b]!='undefined');}else return(this[a]!==null);}),fetch_full:(function i(a,b,c,d,e){var f=this,g=(f.$class.fields[a] instanceof Array),h;c=this.filter_fetchable_params(a,c);h=$.param(c);if(a!='details'&&!f.details){f.fetch_full('details',function(){f.fetch_full(a,b,c,d);});return;}if(d&&this.list_page_status[a])f.list_page_status[a].__global__={all:false};if(d||!f.fetched(a,h))f.fetch(a,function(d){if(g){f[a][h]=d;f.update_list_page_status(a,c,1,d?d.length||0:0);}else f[a]=d;b();},function(g){f.controller.fetch_full_error(g,f,a,b,c,d,e);},c,'fail_if_404');else b();}),update_list_page_status:(function j(a,b,c,d){var e=this.$class.default_params[a]||{},f=$.param(b),g=e.max_pages||null,h=e.per_page||null,i=true;if(!d)i=false;else if(g&&c>=g)i=false;else if(h&&d<h)i=false;this.list_page_status[a][f]={last_page:c,maybe_more:i};if(i)this.list_page_status[a].__global__={all:false};else{this.list_page_status[a].__global__={all:true,params:b,str_params:f};if(this['manage_global_for_'+a])this['manage_global_for_'+a]();}}),_fetch_more:(function k(a,b,c,d){var e=this,f,g;b=this.filter_fetchable_params(a,b);f=$.param(b);g=$.extend({},b,{page:e.list_page_status[a][f].last_page+1});e.fetch(a,function(d){e[a][f]=e[a][f].concat(d);e.update_list_page_status(a,b,g.page,d?d.length||0:0);c(d);},d,g);}),fetch_more:(function l(a,b,c,d){var e=this;this.list_page_status[a].__global__={all:false};this._fetch_more(a,c,b,function(f){e.controller.fetch_more_error(f,e,a,b,c,d);});}),fetch_all:(function m(a,b,c,d,e){var f=this,g;d=this.filter_fetchable_params(a,d);g=$.param(d);f.list_page_status[a].__global__={all:false};var h=function(d){b(d);if(f.list_page_status[a][g].maybe_more)j();else c();};var i=function(g){f.controller.fetch_all_error(g,f,a,b,c,d,e);};var j=function(){f._fetch_more(a,d,h,i);};j();}),sort_and_filter_events:(function n(a,b){var c=a.mode==='display',d,e;if(!a.type)return c?b:[];d=c?_.filter:_.reject;e=a.type.split(',');return d(b,function(a){return(e.indexOf(a.type)!==-1);});})});})(Reposio);(function(a){a.Models.account=a.Models.base.$extend({__classvars__:{model_name:'account',fields:{details:{},repositories:[],stars:[],own_events:[],received_events:[],followers:[],following:[],org_members:[],orgs:null},default_params:{repositories:{per_page:50},stars:{per_page:50},own_events:{per_page:30,max_pages:10},received_events:{per_page:30,max_pages:10},followers:{per_page:50},following:{per_page:50},org_members:{per_page:50}},fetchable_params:{repositories:['direction','sort','type'],stars:['direction','sort'],own_events:[],received_events:[]},sort_and_filter_helpers:{repositories:{filter_type:(function b(a){return(a.user.login==this.username);}),filter_type_method:{member:_.reject,owner:_.filter},filter_forks:(function c(a){return a.is_fork;}),filter_forks_method:{no:_.reject,yes:_.filter},filter_language:(function d(a){return(a.language&&a.language==this);}),sort_field:{created:'created_at',pushed:'pushed_at',updated:'updated_at',full_name:'full_name'}},stars:{sort_field:{created:'starred_order',updated:'pushed_at'},filter_forks:(function e(a){return a.is_fork;}),filter_forks_method:{no:_.reject,yes:_.filter},filter_language:(function f(a){return(a.language&&a.language==this);})}}},__init__:(function g(a,b){this.$super(a,b);this.username=this.ref;}),manage_global_for_repositories:(function h(){var a=this.list_page_status.repositories.__global__;if(a.params.type!='all')a.all=false;}),sort_and_filter_repositories:(function i(a,b){var c=this.list_page_status.repositories.__global__,d=this.$class.sort_and_filter_helpers.repositories,e=b||this.repositories[c.str_params];if(a.type&&a.type!='all')e=d.filter_type_method[a.type](e,d.filter_type,this);if(a.forks&&a.forks!='all')e=d.filter_forks_method[a.forks](e,d.filter_forks);if(a.language)e=_.filter(e,d.filter_language,a.language=='CSharp'?'C#':a.language);if(b||a.sort!=c.params.sort){e=_.sortBy(e,d.sort_field[a.sort]);if(a.direction=='desc')e.reverse();}else if(a.direction!=c.params.direction){e.reverse();if(a.type=='all')c.params.direction=a.direction;}return e;}),manage_global_for_stars:(function j(){var a=this.list_page_status.stars.__global__;if(a.params.sort!='created')a.all=false;}),sort_and_filter_stars:(function k(a,b){var c=this.list_page_status.stars.__global__,d=this.$class.sort_and_filter_helpers.stars,e=b||this.stars[c.str_params],f;if((!c.all&&a.sort=='created')||(c.all&&!c.default_order_saved)){if(c.all)c.default_order_saved=true;if((c.all?c.params:a).direction=='desc'){e.reverse();if(c.all)c.params.direction='asc';}var g=c.all?'':_.uniqueId();_.each(e,function(a,b){a.starred_order=g+b;});if(!c.all&&a.direction=='desc')e.reverse();}if(a.language)e=_.filter(e,d.filter_language,a.language=='CSharp'?'C#':a.language);if(a.forks&&a.forks!='all')e=d.filter_forks_method[a.forks](e,d.filter_forks,this);if(b||a.sort!=c.params.sort){e=_.sortBy(e,d.sort_field[a.sort]);if(a.direction=='desc')e.reverse();}else if(a.direction!=c.params.direction){e.reverse();c.params.direction=a.direction;}return e;}),sort_and_filter_own_events:(function l(a,b){var c=this.list_page_status.own_events.__global__,d=b||this.own_events[c.str_params];return this.sort_and_filter_events(a,d);}),sort_and_filter_received_events:(function m(a,b){var c=this.list_page_status.received_events.__global__,d=b||this.received_events[c.str_params];return this.sort_and_filter_events(a,d);})});})(Reposio);(function(a){a.Models.repository=a.Models.base.$extend({__classvars__:{model_name:'repository',fields:{details:{},readme:'',activity:[],forks:[],stars:[],contributors:[]},default_params:{activity:{per_page:30,max_pages:10},forks:{per_page:50},stars:{per_page:50},contributors:{per_page:100}},fetchable_params:{forks:['sort'],activity:[]},sort_and_filter_helpers:{forks:{sort_field:{newest:'created_at',oldest:'created_at',watchers:'watchers_count'},filter_never_updated:(function b(a){return a.pushed_at<=a.created_at;})}}},__init__:(function c(a,b){this.$super(a,b);this.path=this.ref;this.href_id=this.id.replace('/',':');}),sort_and_filter_forks:(function d(a,b){var c=this.list_page_status.forks.__global__,d=this.$class.sort_and_filter_helpers.forks,e=b||this.forks[c.str_params];if(a.never_updated=='hide')e=_.reject(e,d.filter_never_updated);e=_.sortBy(e,d.sort_field[a.sort]);if(a.sort!='oldest')e.reverse();return e;}),sort_and_filter_activity:(function e(a,b){var c=this.list_page_status.activity.__global__,d=b||this.activity[c.str_params];return this.sort_and_filter_events(a,d);})});})(Reposio);(function(a){var b=(function c(a){this.provider=a;});b.prototype.format=(function d(a,b){if(a.type&&this[a.type]){var c=this[a.type](a,b);if(!c)c=this.base_format(a,b,'<em>('+a.type.replace('Event','').toLowerCase()+')</em>');return{event:a,source:b,provider:this,html:c,day:this.provider.controller.display.format_date(a.created_at)};}return null;});b.prototype.format_actor=(function e(a,b,c){if(c||b.$class.model_name!='account'||b.username!=a.login)return this.provider.controller.display.account_link(a.login,b.provider.name);else return '<strong>'+a.login+'</strong>';});b.prototype.format_repo=(function f(a,b,c,d,e){var f=a.full_name||a.name,g=f.split('/'),h;if(d||c.$class.model_name!='repository'||c.path!=f){h=this.provider.controller.display.repository_link(f,g[1],c.provider.name);if(e||b.login!=g[0]&&(c.$class.model_name!='account'||c.username!=g[0])){h+='<span> by <strong>'+g[0]+'</strong></span>';h='<span class="repo-links">'+h+'</span>';}}else h='<strong>'+g[1]+'</strong>';return h;});b.prototype.base_format=(function g(a,b,c,d,e,f){var g='';g+='<p class="ui-li-aside">'+this.provider.controller.display.format_date(a.created_at,'show-time',null,'time-only')+'</p>';if(!e&&a.repository&&(a.repository.name||a.repository.full_name))e=this.format_repo(a.repository,a.actor,b);g+=this.format_actor(a.actor,b)+' '+c;if(e)g+=' '+e;if(d)g+='<p class="ui-li-desc">'+d+'</p>';if(f)g+=this.format_external_link(f);return g;});b.prototype.markdown_event_more=(function h(a){if(!a)return '';result='<div class="ui-li ui-li-static ui-btn-up-d ui-first-child ui-last-child markdown">';result+=marked(a,{sanitize:true,breaks:true,smartLists:true});result+='</div>';return result;});b.prototype.trigger_text=(function i(a,b){if(b)return '<a href="#" class="collapsible-trigger">'+a+'</a>';else return a;});b.prototype.more=(function j(a){var b='<div data-role="collapsible" data-content-theme="d" data-corners="false" data-mini="true" class="event-more"><h3>More</h3>';b+=a;b+='</div>';return b;});b.prototype.description_fetcher=(function k(b,c){var d,e;if(b.repository.name&&b.repository.name!=c.path){e=a.Models.repository.get(b.repository.name+'@github',this.provider.controller),d='Description: ';if(!e.details)d+='<a href="#" class="fetch-desc-trigger" data-repository="'+e.id+'">click to fetch</a>';else if(e.details.description)d+='<strong>'+e.details.description+'</strong>';else d+='<em>no description</em>';}return d;});b.prototype.format_external_link=(function l(a){var b='<a class="ui-li-link-alt ui-btn ui-btn-icon-notext ui-btn-up-c" data-theme="c" href="'+a+'" target="_blank">';b+='<span class="ui-btn ui-btn-icon-notext">';b+='<span class="ui-btn-inner">';b+='<span class="ui-icon ui-icon-arrow-r">&nbsp;</span>';b+='</span>';b+='</span>';b+='</a>';return b;});b.prototype.CommitCommentEvent=(function m(a,b){var c=this.trigger_text('commented',a.comment.body)+' a commit on';return this.base_format(a,b,c,null,null,a.comment.html_url);});b.prototype.more_CommitCommentEvent=(function n(a,b){return this.more(this.markdown_event_more(a.comment.body));});b.prototype.CreateEvent=(function o(a,b){var c='created',d,e;switch(a.ref_type){case 'branch':c+=' a branch on';d='Branch: <strong>'+a.ref+'</strong>';e='https://github.com/'+a.repository.name+'/tree/'+a.ref;break;case 'repository':if(a.description)d='Description: <strong>'+a.description+'</strong>';e='https://github.com/'+a.repository.name;break;case 'tag':c+=' a tag on';d='Tag: <strong>'+a.ref+'</strong>';e='https://github.com/'+a.repository.name+'/tree/'+a.ref;break;}return this.base_format(a,b,c,d,null,e);});b.prototype.DeleteEvent=(function p(a,b){var c='deleted',d;switch(a.ref_type){case 'branch':c+=' a branch on';d='Branch: <strong>'+a.ref+'</strong>';break;case 'tag':d='Tag: <strong>'+a.ref+'</strong>';break;}return this.base_format(a,b,c,d);});b.prototype.DownloadEvent=(function q(a,b){});b.prototype.FollowEvent=(function r(a,b){var c=this.format_actor(a.target,b);return this.base_format(a,b,'started following',null,c);});b.prototype.ForkEvent=(function s(a,b){var c=this.trigger_text('forked',a.forkee),d=this.description_fetcher(a,b);return this.base_format(a,b,c,d);});b.prototype.more_ForkEvent=(function t(a,b){return this.more('<p class="ui-li ui-li-static ui-btn-up-d ui-first-child ui-last-child">Fork: '+this.format_repo(a.forkee,a.actor,b,null,true)+'</p>');});b.prototype.ForkApplyEvent=(function u(a,b){return this.base_format(a,b,'applied the fork queue to');});b.prototype.GistEvent=(function v(a,b){var c=a.action,d,e;if(!c.match(/d$/)){if(!c.match(/e$/))c+='e';c+='d';}d=c+' a gist';if(a.gist.description)e='Description: <strong>'+a.gist.description+'</strong>';return this.base_format(a,b,d,e,null,a.gist.html_url);});b.prototype.GollumEvent=(function w(a,b){var c=this.format_repo(a.repository,a.actor,b),d=this.trigger_text('edited',true)+' the '+c+' wiki',e='https://github.com/'+a.repository.name+'/wiki';return this.base_format(a,b,d,null,' ',e);});b.prototype.more_GollumEvent=(function x(a,b){var c='<ul data-role="listview" data-theme="d">';for(var d=0;d<a.pages.length;d++){var e=a.pages[d];c+='<li>';c+='<em>'+e.title+'</em> — <strong>'+e.action+'</strong>';c+='</li>';}c+='</ul>';return this.more(c);});b.prototype.IssueCommentEvent=(function y(a,b){var c,d=(a.is_pull_request?'Pull request':'Issue')+': <strong>#'+a.issue.number+' - '+a.issue.title+'</strong>',e;if(a.action=='created'){c=this.trigger_text('commented',a.comment.body);c+=' '+(a.is_pull_request?'a pull request':'an issue')+' on';}else{c=a.action+' a ';c+=this.trigger_text('comment',a.action!='deleted'&&a.comment.body);c+=' on an issue on';}if(a.comment.html_url)e=a.comment.html_url;else if(a.issue.html_url&&a.comment.id)e=a.issue.html_url+'#issuecomment-'+a.comment.id;return this.base_format(a,b,c,d,null,e);});b.prototype.more_IssueCommentEvent=(function z(a,b){return this.more(this.markdown_event_more(a.comment.body));});b.prototype.IssuesEvent=(function A(a,b){var c=a.action+' an '+this.trigger_text('issue',a.issue.body)+' on',d='Issue <strong>#'+a.issue.number+' - '+a.issue.title+'</strong>';return this.base_format(a,b,c,d,null,a.issue.html_url);});b.prototype.more_IssuesEvent=(function B(a,b){return this.more(this.markdown_event_more(a.issue.body));});b.prototype.MemberEvent=(function C(a,b){var c=a.action+' ';c+=this.format_actor(a.member,b);c+=' as a member '+(a.action=='added'?'to':'from');return this.base_format(a,b,c);});b.prototype.PublicEvent=(function D(a,b){return this.base_format(a,b,'open sourced');});b.prototype.PullRequestEvent=(function E(a,b){var c=a.action+' a '+this.trigger_text('pull request',a.pull_request.body)+' on',d='Pull request <strong>#'+a.pull_request.number+' - '+a.pull_request.title+'</strong>';return this.base_format(a,b,c,d,null,a.pull_request.html_url);});b.prototype.more_PullRequestEvent=(function F(a,b){return this.more(this.markdown_event_more(a.pull_request.body));});b.prototype.PullRequestReviewCommentEvent=(function G(a,b){var c=this.trigger_text('commented',a.comment.body)+' a pull request on',d;if(a.pull_request.number)d='Pull request <strong>#'+a.pull_request.number+'</strong>';return this.base_format(a,b,c,d,null,a.comment.html_url);});b.prototype.more_PullRequestReviewCommentEvent=(function H(a,b){return this.more(this.markdown_event_more(a.comment.body));});b.prototype.PushEvent=(function I(a,b){var c='pushed '+(a.size?this.trigger_text(a.size+' commit'+(a.size>1?'s':''),true):'')+' to',d,e;if(a.ref&&a.ref.indexOf('refs/heads/')===0)d='Branch: <strong>'+a.ref.replace('refs/heads/','')+'</strong>';if(a.size==1)e='https://github.com/'+a.repository.name+'/commit/'+a.commits[0].sha;else if(a.before&&a.head)e='https://github.com/'+a.repository.name+'/compare/'+a.before+'...'+a.head;return this.base_format(a,b,c,d,null,e);});b.prototype.more_PushEvent=(function J(a,b){var c='<ul data-role="listview" data-theme="d">';for(var d=0;d<a.commits.length;d++){var e=a.commits[d],f=e.message.split('\n'),g=f.shift(),h=f.length?'<br />'+f.join('<br />'):'';c+='<li'+(h.length?' class="with-extension"':'')+'>';c+='<strong>'+e.author.name+'</strong>';c+=' — <em>';c+=g;if(h)c+='<span class="extension">'+h+'</span>';c+='</em>';c+='</li>';}c+='</ul>';return this.more(c);});b.prototype.TeamAddEvent=(function K(a,b){});b.prototype.WatchEvent=(function L(a,b){var c=a.action+' watching',d=this.description_fetcher(a,b);return this.base_format(a,b,c,d);});var M=(function N(a){var c,d=(providers_config?providers_config.github||{}:{});this.name='github';if(d.auth=='basic'&&d.username&&d.password)c='Basic '+Base64.encode(d.username+':'+d.password);else if(d.auth=='oauth'&&d.token)c='token '+d.token;if(c)Gh3.Helper.headers.Authorization=c;Gh3.Helper.cache=false;this.controller=a;this.formatter=new b(this);});M.prototype.get_user=(function O(a){return new Gh3.User(a);});M.prototype.get_repo=(function P(a){var b=a.split('/');return new Gh3.Repository(b[1],this.get_user(b[0]));});M.prototype.map_type={accounts:'account',repositories:'repository',events:'event'};M.prototype.decorate_collback=(function Q(a,b,c){var d=this;return function(e,f){var g;if(!e)switch(c){case 'field':g=f[b];break;case 'repositories':case 'accounts':case 'events':g=_.map(f[b].getAll(),d['map_'+d.map_type[c]],d);break;default:g=f[b].getAll();}a(e,e?null:g);};});M.prototype.map=(function R(a,b){var c={},d;if(a)for(var e=0;e<b._.length;e++){d=b._[e];if(typeof a[d]=='undefined')continue;c[b[d]||d]=a[d];}return c;});M.prototype.account_mapping={_:['login','type','avatar_url','name','created_at','company','location','email','blog','public_repos','followers_count','following_count','contributions'],blog:'site',public_repos:'repos_count'};M.prototype.map_account=(function S(a){var b={};if(a)b=this.map(a,this.account_mapping);return b;});M.prototype.repository_mapping={_:['name','full_name','description','pushed_at','created_at','updated_at','forks_count','fork','watchers_count','language'],fork:'is_fork'};M.prototype.map_repository=(function T(a){var b={};if(a){b=this.map(a,this.repository_mapping);if(a.fork&&a.parent)b.parent=this.map_repository(a.parent);if(a.user)b.user=this.map_account(a.user);}return b;});M.prototype.map_event=(function U(a){var b={},c;if(a){c=a.payload||{};switch(a.type){case 'CommitCommentEvent':b.comment=this.map(c.comment,{_:['body','html_url']});break;case 'CreateEvent':b=this.map(c,{_:['ref_type','ref','description']});break;case 'DeleteEvent':b=this.map(c,{_:['ref_type','ref']});break;case 'FollowEvent':if(c.target&&c.target.login)b.target={login:c.target.login};break;case 'ForkEvent':if(c.forkee&&isNaN(c.forkee))b.forkee=this.map(c.forkee,{_:['name','full_name']});break;case 'GistEvent':b=this.map(c,{_:['action']});b.gist=this.map(c.gist,{_:['description','html_url']});break;case 'GollumEvent':b.pages=[];if(c.pages&&c.pages.length)for(var d=0;d<c.pages.length;d++)b.pages.push(this.map(c.pages[d],{_:['title','action']}));break;case 'IssueCommentEvent':b=this.map(c,{_:['action']});b.issue=this.map(c.issue,{_:['number','title','html_url']});b.issue.is_pull_request=(c.issue&&c.issue.pull_request&&c.issue.pull_request.html_url);b.comment=this.map(c.comment,{_:['body','html_url','id']});break;case 'IssuesEvent':b=this.map(c,{_:['action']});b.issue=this.map(c.issue,{_:['number','title','body','html_url']});break;case 'MemberEvent':b=this.map(c,{_:['action']});if(c.member&&c.member.login)b.member={login:c.member.login};break;case 'PullRequestEvent':b=this.map(c,{_:['action','number']});b.pull_request=this.map(c.pull_request,{_:['body','title','html_url']});if(b.number){b.pull_request.number=b.number;delete b.number;}break;case 'PullRequestReviewCommentEvent':var e;b.pull_request={};if(c.comment._links&&c.comment._links.pull_request&&c.comment._links.pull_request.href){e=c.comment._links.pull_request.href;e=e.match(/(\d+)\/?$/);e=e?e[1]:null;if(e)b.pull_request.number=e;}b.comment=this.map(c.comment,{_:['body','html_url']});if(!b.comment.html_url&&c.comment&&c.comment._links&&c.comment._links.html)b.comment.html_url=c.comment._links.html.href;break;case 'PushEvent':var f,g;b=this.map(c,{_:['size','ref','before','head']});b.commits=[];if(b.size){if(c.commits){g=c.commits;f=false;}else if(c.shas){g=c.shas;f=true;}if(!g.length)b.size=0;else for(var h=0;h<g.length;h++){var i=g[h];b.commits.push({sha:f?i[0]:i.sha,message:f?i[2]:i.message,author:{name:f?i[3]:i.author.name}});}}break;case 'WatchEvent':b=this.map(c,{_:['action']});break;}b.type=a.type;b.created_at=a.created_at;b.actor=this.map(a.actor,{_:['login']});b.repository=this.map(a.repository||a.repo,{_:['name','full_name']});}return b;});M.prototype.get_account_details=(function V(a,b,c){var d=this;function e(a,c){if(!a&&c)c=d.map_account(c);return b(a,c);}this.get_user(a).fetch(e,c);});M.prototype.get_account_repositories=(function W(a,b,c){this.get_user(a).repositories.fetch(this.decorate_collback(b,'repositories','repositories'),c);});M.prototype.get_account_stars=(function X(a,b,c){this.get_user(a).starred.fetch(this.decorate_collback(b,'starred','repositories'),c);});M.prototype.get_account_own_events=(function Y(a,b,c){this.get_user(a).events.fetch(this.decorate_collback(b,'events','events'),c);});M.prototype.get_account_received_events=(function Z(a,b,c){this.get_user(a).received_events.fetch(this.decorate_collback(b,'received_events','events'),c);});M.prototype.get_account_followers=(function $(a,b,c){this.get_user(a).followers.fetch(this.decorate_collback(b,'followers','accounts'),c);});M.prototype.get_account_following=(function _(a,b,c){this.get_user(a).following.fetch(this.decorate_collback(b,'following','accounts'),c);});M.prototype.get_account_org_members=(function ab(a,b,c){this.get_user(a).members.fetch(this.decorate_collback(b,'members','accounts'),c);});M.prototype.get_account_orgs=(function ac(a,b,c){this.get_user(a).orgs.fetch(this.decorate_collback(b,'orgs','accounts'),c);});M.prototype.get_repository_details=(function ad(a,b,c){var d=this;function e(a,c){if(!a&&c)c=d.map_repository(c);return b(a,c);}this.get_repo(a).fetch(e,c);});M.prototype.get_repository_readme=(function ae(a,b,c){this.get_repo(a).fetchReadme(this.decorate_collback(b,'readme','field'),c);});M.prototype.get_repository_activity=(function af(a,b,c){this.get_repo(a).events.fetch(this.decorate_collback(b,'events','events'),c);});M.prototype.get_repository_forks=(function ag(a,b,c){this.get_repo(a).forks.fetch(this.decorate_collback(b,'forks','repositories'),c);});M.prototype.get_repository_stars=(function ah(a,b,c){this.get_repo(a).stargazers.fetch(this.decorate_collback(b,'stargazers','accounts'),c);});M.prototype.get_repository_contributors=(function ai(a,b,c){this.get_repo(a).contributors.fetch(this.decorate_collback(b,'contributors','accounts'),c);});if(!a.Providers)a.Providers={};a.Providers.github=M;})(Reposio);(function(a){a.View=Class.$extend({__classvars__:{model:null,view_name:null,views:{},views_cache:{},get:(function b(a,b){if(!this.views_cache[a.id])this.views_cache[a.id]=new this.views[a.id](a,b);return this.views_cache[a.id];})},__init__:(function c(a,b){this.page=a;this.display=b;this.nodes_cache=null;this.container=null;this.init_events();this.accept_options=this.__classvars__.accept_options;}),init_events:(function d(){}),cache_nodes:(function e(){this.container=this.page.nodes.content;this.nodes_cache={};}),nodes:(function f(){if(!this.nodes_cache)this.cache_nodes();return this.nodes_cache;}),reset:(function g(){if(!this.page.node.data('mobile-page'))this.page.node.page();}),update:(function h(a,b){})});a.View.views._list=a.View.$extend({__init__:(function i(a,b){this.$super(a,b);this.options={};}),cache_nodes:(function j(){this.$super();this.nodes_cache.list=this.container.children('ul');this.nodes_cache.load_buttons=this.container.children('.load-buttons');this.nodes_cache.load_more_button=this.nodes_cache.load_buttons.find('a.list-more-button');this.nodes_cache.load_all_button=this.nodes_cache.load_buttons.find('a.list-all-button');}),reset:(function k(){this.$super();var a=this.nodes();this.empty_list_node();a.load_buttons.addClass('ui-hidden');a.load_more_button.addClass('ui-disabled');a.load_all_button.addClass('ui-disabled');}),empty_list_node:(function l(){var a=this.nodes(),b=a.list[0];while(b.firstChild)b.removeChild(b.firstChild);}),update:(function m(a,b){var c=this.nodes(),d=this.get_items(a,this.get_data(a));this.empty_list_node();if(d.length){d[0].className+=' ui-first-child';this.update_list_node(d);}this.update_load_buttons(a);this.refresh_widgets();}),update_list_node:(function n(a){var b=this.nodes(),c=b.list[0],d=c.lastChild;if(a.length){a[a.length-1].className+=' ui-last-child';if(d)d.className=d.className.replace('ui-last-child','');for(var e=0;e<a.length;e++)c.appendChild(a[e]);}}),complete:(function o(a,b){var c=this.nodes(),d=this.get_items(a,this.prepare_data(a,b));this.update_list_node(d);this.refresh_widgets();}),update_load_buttons:(function p(a){var b=this.nodes();if(!b.load_buttons.length)return;var c=$.param(this.options),d=a.list_page_status[this.$class.data_field][c];if(!a.list_page_status[this.$class.data_field].__global__.all&&(d?d.maybe_more:true))this.enable_load_buttons();else this.hide_load_buttons();}),toggle_load_buttons_enabled:(function q(a){var b=this.nodes();if(!b.load_buttons.length)return;b.load_more_button.toggleClass('ui-disabled',!a);b.load_all_button.toggleClass('ui-disabled',!a);if(a)this.show_load_buttons();}),disable_load_buttons:(function r(){this.toggle_load_buttons_enabled(false);}),enable_load_buttons:(function s(){this.toggle_load_buttons_enabled(true);}),toggle_load_buttons_visible:(function t(a){var b=this.nodes();if(!b.load_buttons.length)return;b.load_buttons.toggleClass('ui-hidden',!a);if(!a)this.disable_load_buttons();}),hide_load_buttons:(function u(){this.toggle_load_buttons_visible(false);}),show_load_buttons:(function v(){this.toggle_load_buttons_visible(true);}),refresh_widgets:(function w(){}),get_data:(function x(a){return a.get_list(this.$class.data_field,this.options);}),prepare_data:(function y(a,b){return a.get_list(this.$class.data_field,this.options,b);}),get_items:(function z(a,b){}),options_form:(function A(){var a=this,b='#'+this.$class.view_name+'_options';if(!this._options_form){this._options_form=$(b);if(!this._options_form.length){var c=a.display.get_template(a.$class.view_name+'_options',true),d=$(c);this._options_form=d.find(b);setTimeout(function(){d.collapsible();$.mobile.checkboxradio.prototype.enhanceWithin(a._options_form,true);$.mobile.button.prototype.enhanceWithin(a._options_form,true);$.mobile.selectmenu.prototype.enhanceWithin(a._options_form,true);$.mobile.controlgroup.prototype.enhanceWithin(a._options_form,true);a.page.nodes.content.prepend(c);},500);}}return this._options_form;}),get_options_from_form:(function B(){var a=this.options_form().serializeArray(),b,c={},d=[],e={},f={},g=this.$class.view_name+'_options_';for(var h=0;h<a.length;h++){b=a[h].name.replace(g,'');if(b=='submit')continue;if(!_.contains(d,b)){d.push(b);f[b]=$('#'+a[h].name).is('select[multiple=multiple]');}if(f[b]){if(!c[b])c[b]=[];c[b].push(a[h].value);}else c[b]=a[h].value;}d.sort();for(var i=0;i<d.length;i++)e[d[i]]=c[d[i]];return e;}),manage_options:(function C(a){var b,c,d={},e=this.$class.view_name+'_options_';this.options_form().find('[type=reset]').click();b=$.extend({},this.$class.default_options);if(a)for(c in a)if(typeof b[c]!=='undefined')b[c]=decodeURIComponent(a[c]);for(c in b)d[e+c]=b[c];this.options_form().unserializeForm($.param(d));this.options=b;return this.options;}),init_events:(function D(){var a=this,b=(function c(b){b.preventDefault();b.stopPropagation();var c=a.get_options_from_form(),d={},e='#'+a.$class.view_name;e+='!'+a.$class.model+'='+a.display.controller[a.$class.model].id.replace('/',':');for(var f in c)d[f]=encodeURIComponent(c[f]);e+='&'+$.param(d);window.location.hash=e;return false;}),d=(function e(b){b.preventDefault();b.stopPropagation();if(!$(this).hasClass('ui-disabled')){var c=a.display.pages[$.mobile.activePage.data('url')];$.mobile.loading('show');a.disable_load_buttons();a.display.ask_for_more(c);}return false;}),f=(function g(b){b.preventDefault();b.stopPropagation();if(!$(this).hasClass('ui-disabled')){var c=a.display.pages[$.mobile.activePage.data('url')];$.mobile.loading('show');a.disable_load_buttons();a.display.ask_for_all(c);}return false;});$(document).on('submit','#'+this.__classvars__.view_name+'_options',b);$(document).on('click','#'+this.__classvars__.view_name+'_load_buttons .list-more-button',d);$(document).on('click','#'+this.__classvars__.view_name+'_load_buttons .list-all-button',f);})});a.View.views._accounts=a.View.views._list.$extend({get_items:(function E(a,b){return this.display.create_accounts_list_items(b,a.provider);})});a.View.views._repositories=a.View.views._list.$extend({get_items:(function F(a,b){return this.display.create_repositories_list_items(b,a.provider);})});a.View.views._events=a.View.views._list.$extend({get_items:(function G(a,b){var c=[];for(var d=0;d<b.length;d++){var e=a.provider.formatter.format(b[d],a);if(e)c.push(e);}return this.display.create_events_list_items(c);}),refresh_widgets:(function H(){this.display.render_widgets(this.nodes().list);})});})(Reposio);(function(a){a.View.views.account_home=a.View.$extend({__classvars__:{model:'account',view_name:'account_home'},cache_nodes:(function b(){this.$super();var a=this.nodes_cache;var b=this.container.children('.account-main').children();a.avatar=b.children('img');a.provider=b.children('p.provider');a.name=b.children('p.account-name');var c=b.children('h3');a.username=c.children('strong');a.organization=c.children('span');a.infos=this.container.children('.account-details');a.infos_loading=a.infos.children('.failover');a.infos_items=a.infos.children('.ui-li-has-icon');a.company_container=a.infos.children('li.account-company');a.company=a.company_container.children(':last');a.location_container=a.infos.children('li.account-location');a.location=a.location_container.children(':last');a.email_container=a.infos.children('li.account-email');a.email=a.email_container.children(':last');a.created_at_container=a.infos.children('li.account-created_at');a.created_at=a.created_at_container.children(':last');a.site_container=a.infos.children('li.account-site');a.site=a.site_container.find('a');a.orgs_container=this.container.children('.account-orgs');}),reset:(function c(){this.$super();var a=this.nodes();a.username.html('loading...');a.name.html('');a.organization.hide();a.avatar.attr('src','img/default-avatar.png');a.infos_items.hide();a.infos_loading.show();this.display.clear_listview(a.orgs_container,'Loading...',true);a.orgs_container.show();}),update:(function d(a,b){var c=this.nodes(),d=this,e=(a.details.type=='Organization');if(e)c.orgs_container.hide();c.username.html(a.username);c.organization.toggle(e);c.provider.html(a.provider.name);c.avatar.attr('src',a.details.avatar_url);c.name.html(a.details.name||'');c.name.toggle(!!a.details.name);c.created_at.html(this.display.format_date(a.details.created_at));c.created_at_container.show();c.infos_loading.hide();c.company.html(a.details.company||'');c.company_container.toggle(!!a.details.company);c.location.html(a.details.location||'');c.location_container.toggle(!!a.details.location);var f=!!(a.details.email&&a.details.email.indexOf('@')!==-1);c.email.html(f?a.details.email:'');c.email_container.toggle(f);c.site.html(a.details.site||'');c.site_container.toggle(!!a.details.site);c.site.attr('href',a.details.site||'/');if(!e){var g=(function h(b){a.orgs=b;if(a.orgs&&a.orgs.length){d.display.clear_listview(c.orgs_container);c.orgs_container.append(d.display.create_accounts_list_items(a.orgs,a.provider));c.orgs_container.listview('refresh');}else{d.display.clear_listview(c.orgs_container,'No organizations',true);c.orgs_container.fadeOut();}});var i=(function j(a){d.display.clear_listview(c.orgs_container,'Failed to load organizations',true);});if(a.orgs===null||b)a.fetch('orgs',g,i);else g(a.orgs);}d.container.children('ul[data-role=listview]').listview('refresh');})});a.View.views.account_repositories=a.View.views._repositories.$extend({__classvars__:{model:'account',view_name:'account_repositories',data_field:'repositories',accept_options:true,default_options:{direction:'desc',forks:'all',language:null,sort:'pushed',type:'all'}}});a.View.views.account_stars=a.View.views._repositories.$extend({__classvars__:{model:'account',view_name:'account_stars',data_field:'stars',accept_options:true,default_options:{direction:'desc',forks:'all',language:null,sort:'created'}}});a.View.views.account_followers=a.View.views._accounts.$extend({__classvars__:{model:'account',view_name:'account_followers',data_field:'followers'}});a.View.views.account_following=a.View.views._accounts.$extend({__classvars__:{model:'account',view_name:'account_following',data_field:'following'}});a.View.views.account_members=a.View.views._accounts.$extend({__classvars__:{model:'account',view_name:'account_members',data_field:'org_members'}});a.View.views.account_activity=a.View.views._events.$extend({__classvars__:{model:'account',view_name:'account_activity',data_field:'own_events',accept_options:true,default_options:{mode:'display',type:null}}});a.View.views.account_events=a.View.views._events.$extend({__classvars__:{model:'account',view_name:'account_events',data_field:'received_events',accept_options:true,default_options:{mode:'display',type:null}}});})(Reposio);(function(a){a.View.views.repository_home=a.View.$extend({__classvars__:{model:'repository',view_name:'repository_home'},cache_nodes:(function b(){this.$super();var a=this.nodes_cache;var b=this.container.children('.repo-main').children('li');a.provider=b.children('p.provider');var c=b.children('div.repo-path');a.name=c.children('strong.repo-name');a.owner_container=c.children('span.repo-owner-container');a.owner=a.owner_container.children('span.repo-owner');a.fork_container=b.children('div.repo-fork');var d=b.find('.repo-links');a.fork_name=d.children('span.repo-fork-name');a.fork_owner=d.find('span strong.repo-fork-owner');a.last_push_container=b.children('p.repo-last-push');a.last_push=a.last_push_container.children('span');a.desc_readme=this.container.children('div');a.description_container=a.desc_readme.children('div.repo-desc-container');a.description=a.description_container.find('.repo-desc');a.readme_container=a.desc_readme.children('div.repo-readme-container');a.readme=a.readme_container.find('.repo-readme');}),reset:(function c(){this.$super();var a=this.nodes();a.name.html('loading...');a.owner_container.hide();a.owner.html('...');a.fork_container.hide();a.last_push_container.hide();a.desc_readme.hide();a.description.html('');a.readme.html('<em>Loading...</em>');}),update:(function d(a,b){var c=this.nodes();c.provider.html(a.provider.name);c.name.html(a.details.name);c.owner.html(this.display.account_link(a.details.user.login,a.provider.name));c.owner_container.show();if(a.details.is_fork){c.fork_name.html(this.display.repository_link(a.details.parent.full_name,a.details.parent.name,a.provider.name));c.fork_owner.html(a.details.parent.user.login);c.fork_container.show();}c.last_push.html(a.details.pushed_at?this.display.format_date(a.details.pushed_at,true):'never !');c.last_push_container.show();c.description.html(a.details.description||'<em>No description!</em>');if(!a.details.description)c.description_container.hide();var d=(function e(b){a.readme=b;if(!a.readme&&c.readme_container.hasClass('ui-collapsible-collapsed'))c.readme_container.fadeOut();else c.readme.html(a.readme||'<em>No readme!</em>');});var f=(function g(a){c.readme.html('<em>Failed to load readme!</em>');});if(a.readme===null||b)a.fetch('readme',d,f);else d(a.readme);c.desc_readme.show();this.display.render_widgets(this.container);})});a.View.views.repository_forks=a.View.views._repositories.$extend({__classvars__:{model:'repository',view_name:'repository_forks',data_field:'forks',accept_options:true,default_options:{never_updated:'show',sort:'newest'}}});a.View.views.repository_activity=a.View.views._events.$extend({__classvars__:{model:'repository',view_name:'repository_activity',data_field:'activity',accept_options:true,default_options:{mode:'display',type:null}}});a.View.views.repository_contributors=a.View.views._accounts.$extend({__classvars__:{model:'repository',view_name:'repository_contributors',data_field:'contributors'},get_items:(function e(a,b){for(var c=0;c<b.length;c++)b[c].html_prepend='<p class="ui-li-aside count ui-li-desc">'+b[c].contributions+'</p>';return this.$super(a,b);})});a.View.views.repository_stars=a.View.views._accounts.$extend({__classvars__:{model:'repository',view_name:'repository_stars',data_field:'stars'}});})(Reposio);