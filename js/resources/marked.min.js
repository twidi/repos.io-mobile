;(function(){var a={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:h,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:h,lheading:/^([^\n]+)\n *(=|-){3,} *\n*/,blockquote:/^( *>[^\n]+(\n[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment|closed|closing) *(?:\n{2,}|\s*$)/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:h,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};a.bullet=/(?:[*+-]|\d+\.)/;a.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/;a.item=g(a.item,'gm')(/bull/g,a.bullet)();a.list=g(a.list)(/bull/g,a.bullet)('hr',/\n+(?=(?: *[-*_]){3,} *(?:\n+|$))/)();a._tag='(?!(?:'+'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code'+'|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo'+'|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|@)\\b';a.html=g(a.html)('comment',/<!--[\s\S]*?-->/)('closed',/<(tag)[\s\S]+?<\/\1>/)('closing',/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,a._tag)();a.paragraph=g(a.paragraph)('hr',a.hr)('heading',a.heading)('lheading',a.lheading)('blockquote',a.blockquote)('tag','<'+a._tag)('def',a.def)();a.normal=i({},a);a.gfm=i({},a.normal,{fences:/^ *(`{3,}|~{3,}) *(\w+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,paragraph:/^/});a.gfm.paragraph=g(a.paragraph)('(?!','(?!'+a.gfm.fences.source.replace('\\1','\\2')+'|')();a.tables=i({},a.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/});function b(b){this.tokens=[];this.tokens.links={};this.options=b||j.defaults;this.rules=a.normal;if(this.options.gfm)if(this.options.tables)this.rules=a.tables;else this.rules=a.gfm;}b.rules=a;b.lex=function(a,c){var d=new b(c);return d.lex(a);};b.prototype.lex=function(a){a=a.replace(/\r\n|\r/g,'\n').replace(/\t/g,'    ').replace(/\u00a0/g,' ').replace(/\u2424/g,'\n');return this.token(a,true);};b.prototype.token=function(b,c){var b=b.replace(/^ +$/gm,''),d,e,f,g,h,i,j,k,l;while(b){if(f=this.rules.newline.exec(b)){b=b.substring(f[0].length);if(f[0].length>1)this.tokens.push({type:'space'});}if(f=this.rules.code.exec(b)){b=b.substring(f[0].length);f=f[0].replace(/^ {4}/gm,'');this.tokens.push({type:'code',text:!this.options.pedantic?f.replace(/\n+$/,''):f});continue;}if(f=this.rules.fences.exec(b)){b=b.substring(f[0].length);this.tokens.push({type:'code',lang:f[2],text:f[3]});continue;}if(f=this.rules.heading.exec(b)){b=b.substring(f[0].length);this.tokens.push({type:'heading',depth:f[1].length,text:f[2]});continue;}if(c&&(f=this.rules.nptable.exec(b))){b=b.substring(f[0].length);i={type:'table',header:f[1].replace(/^ *| *\| *$/g,'').split(/ *\| */),align:f[2].replace(/^ *|\| *$/g,'').split(/ *\| */),cells:f[3].replace(/\n$/,'').split('\n')};for(k=0;k<i.align.length;k++)if(/^ *-+: *$/.test(i.align[k]))i.align[k]='right';else if(/^ *:-+: *$/.test(i.align[k]))i.align[k]='center';else if(/^ *:-+ *$/.test(i.align[k]))i.align[k]='left';else i.align[k]=null;for(k=0;k<i.cells.length;k++)i.cells[k]=i.cells[k].split(/ *\| */);this.tokens.push(i);continue;}if(f=this.rules.lheading.exec(b)){b=b.substring(f[0].length);this.tokens.push({type:'heading',depth:f[2]==='='?1:2,text:f[1]});continue;}if(f=this.rules.hr.exec(b)){b=b.substring(f[0].length);this.tokens.push({type:'hr'});continue;}if(f=this.rules.blockquote.exec(b)){b=b.substring(f[0].length);this.tokens.push({type:'blockquote_start'});f=f[0].replace(/^ *> ?/gm,'');this.token(f,c);this.tokens.push({type:'blockquote_end'});continue;}if(f=this.rules.list.exec(b)){b=b.substring(f[0].length);g=f[2];this.tokens.push({type:'list_start',ordered:g.length>1});f=f[0].match(this.rules.item);d=false;l=f.length;k=0;for(;k<l;k++){i=f[k];j=i.length;i=i.replace(/^ *([*+-]|\d+\.) +/,'');if(~i.indexOf('\n ')){j-=i.length;i=!this.options.pedantic?i.replace(new RegExp('^ {1,'+j+'}','gm'),''):i.replace(/^ {1,4}/gm,'');}if(this.options.smartLists&&k!==l-1){h=a.bullet.exec(f[k+1])[0];if(g!==h&&!(g.length>1&&h.length>1)){b=f.slice(k+1).join('\n')+b;k=l-1;}}e=d||/\n\n(?!\s*$)/.test(i);if(k!==l-1){d=i[i.length-1]==='\n';if(!e)e=d;}this.tokens.push({type:e?'loose_item_start':'list_item_start'});this.token(i,false);this.tokens.push({type:'list_item_end'});}this.tokens.push({type:'list_end'});continue;}if(f=this.rules.html.exec(b)){b=b.substring(f[0].length);this.tokens.push({type:this.options.sanitize?'paragraph':'html',pre:f[1]==='pre',text:f[0]});continue;}if(c&&(f=this.rules.def.exec(b))){b=b.substring(f[0].length);this.tokens.links[f[1].toLowerCase()]={href:f[2],title:f[3]};continue;}if(c&&(f=this.rules.table.exec(b))){b=b.substring(f[0].length);i={type:'table',header:f[1].replace(/^ *| *\| *$/g,'').split(/ *\| */),align:f[2].replace(/^ *|\| *$/g,'').split(/ *\| */),cells:f[3].replace(/(?: *\| *)?\n$/,'').split('\n')};for(k=0;k<i.align.length;k++)if(/^ *-+: *$/.test(i.align[k]))i.align[k]='right';else if(/^ *:-+: *$/.test(i.align[k]))i.align[k]='center';else if(/^ *:-+ *$/.test(i.align[k]))i.align[k]='left';else i.align[k]=null;for(k=0;k<i.cells.length;k++)i.cells[k]=i.cells[k].replace(/^ *\| *| *\| *$/g,'').split(/ *\| */);this.tokens.push(i);continue;}if(c&&(f=this.rules.paragraph.exec(b))){b=b.substring(f[0].length);this.tokens.push({type:'paragraph',text:f[1][f[1].length-1]==='\n'?f[1].slice(0,-1):f[1]});continue;}if(f=this.rules.text.exec(b)){b=b.substring(f[0].length);this.tokens.push({type:'text',text:f[0]});continue;}if(b)throw new Error('Infinite loop on byte: '+b.charCodeAt(0));}return this.tokens;};var c={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:h,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:h,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};c._inside=/(?:\[[^\]]*\]|[^\]]|\](?=[^\[]*\]))*/;c._href=/\s*<?([^\s]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/;c.link=g(c.link)('inside',c._inside)('href',c._href)();c.reflink=g(c.reflink)('inside',c._inside)();c.normal=i({},c);c.pedantic=i({},c.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/});c.gfm=i({},c.normal,{escape:g(c.escape)('])','~|])')(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:g(c.text)(']|','~]|')('|','|https?://|')()});c.breaks=i({},c.gfm,{br:g(c.br)('{2,}','*')(),text:g(c.gfm.text)('{2,}','*')()});function d(a,b){this.options=b||j.defaults;this.links=a;this.rules=c.normal;if(!this.links)throw new Error('Tokens array requires a `links` property.');if(this.options.gfm)if(this.options.breaks)this.rules=c.breaks;else this.rules=c.gfm;else if(this.options.pedantic)this.rules=c.pedantic;}d.rules=c;d.output=function(a,b,c){var e=new d(b,c);return e.output(a);};d.prototype.output=function(a){var b='',c,d,e,g;while(a){if(g=this.rules.escape.exec(a)){a=a.substring(g[0].length);b+=g[1];continue;}if(g=this.rules.autolink.exec(a)){a=a.substring(g[0].length);if(g[2]==='@'){d=g[1][6]===':'?this.mangle(g[1].substring(7)):this.mangle(g[1]);e=this.mangle('mailto:')+d;}else{d=f(g[1]);e=d;}b+='<a href="'+e+'">'+d+'</a>';continue;}if(g=this.rules.url.exec(a)){a=a.substring(g[0].length);d=f(g[1]);e=d;b+='<a href="'+e+'">'+d+'</a>';continue;}if(g=this.rules.tag.exec(a)){a=a.substring(g[0].length);b+=this.options.sanitize?f(g[0]):g[0];continue;}if(g=this.rules.link.exec(a)){a=a.substring(g[0].length);b+=this.outputLink(g,{href:g[2],title:g[3]});continue;}if((g=this.rules.reflink.exec(a))||(g=this.rules.nolink.exec(a))){a=a.substring(g[0].length);c=(g[2]||g[1]).replace(/\s+/g,' ');c=this.links[c.toLowerCase()];if(!c||!c.href){b+=g[0][0];a=g[0].substring(1)+a;continue;}b+=this.outputLink(g,c);continue;}if(g=this.rules.strong.exec(a)){a=a.substring(g[0].length);b+='<strong>'+this.output(g[2]||g[1])+'</strong>';continue;}if(g=this.rules.em.exec(a)){a=a.substring(g[0].length);b+='<em>'+this.output(g[2]||g[1])+'</em>';continue;}if(g=this.rules.code.exec(a)){a=a.substring(g[0].length);b+='<code>'+f(g[2],true)+'</code>';continue;}if(g=this.rules.br.exec(a)){a=a.substring(g[0].length);b+='<br>';continue;}if(g=this.rules.del.exec(a)){a=a.substring(g[0].length);b+='<del>'+this.output(g[1])+'</del>';continue;}if(g=this.rules.text.exec(a)){a=a.substring(g[0].length);b+=f(g[0]);continue;}if(a)throw new Error('Infinite loop on byte: '+a.charCodeAt(0));}return b;};d.prototype.outputLink=function(a,b){if(a[0][0]!=='!')return '<a href="'+f(b.href)+'"'+(b.title?' title="'+f(b.title)+'"':'')+'>'+this.output(a[1])+'</a>';else return '<img src="'+f(b.href)+'" alt="'+f(a[1])+'"'+(b.title?' title="'+f(b.title)+'"':'')+'>';};d.prototype.mangle=function(a){var b='',c=a.length,d=0,e;for(;d<c;d++){e=a.charCodeAt(d);if(Math.random()>0.5)e='x'+e.toString(16);b+='&#'+e+';';}return b;};function e(a){this.tokens=[];this.token=null;this.options=a||j.defaults;}e.parse=function(a,b){var c=new e(b);return c.parse(a);};e.prototype.parse=function(a){this.inline=new d(a.links,this.options);this.tokens=a.reverse();var b='';while(this.next())b+=this.tok();return b;};e.prototype.next=function(){return this.token=this.tokens.pop();};e.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0;};e.prototype.parseText=function(){var a=this.token.text;while(this.peek().type==='text')a+='\n'+this.next().text;return this.inline.output(a);};e.prototype.tok=function(){switch(this.token.type){case 'space':return '';case 'hr':return '<hr>\n';case 'heading':return '<h'+this.token.depth+'>'+this.inline.output(this.token.text)+'</h'+this.token.depth+'>\n';case 'code':{if(this.options.highlight){var a=this.options.highlight(this.token.text,this.token.lang);if(a!=null&&a!==this.token.text){this.token.escaped=true;this.token.text=a;}}if(!this.token.escaped)this.token.text=f(this.token.text,true);return '<pre><code'+(this.token.lang?' class="'+this.options.langPrefix+this.token.lang+'"':'')+'>'+this.token.text+'</code></pre>\n';}case 'table':{var b='',c,d,e,g,h;b+='<thead>\n<tr>\n';for(d=0;d<this.token.header.length;d++){c=this.inline.output(this.token.header[d]);b+=this.token.align[d]?'<th align="'+this.token.align[d]+'">'+c+'</th>\n':'<th>'+c+'</th>\n';}b+='</tr>\n</thead>\n';b+='<tbody>\n';for(d=0;d<this.token.cells.length;d++){e=this.token.cells[d];b+='<tr>\n';for(h=0;h<e.length;h++){g=this.inline.output(e[h]);b+=this.token.align[h]?'<td align="'+this.token.align[h]+'">'+g+'</td>\n':'<td>'+g+'</td>\n';}b+='</tr>\n';}b+='</tbody>\n';return '<table>\n'+b+'</table>\n';}case 'blockquote_start':{var b='';while(this.next().type!=='blockquote_end')b+=this.tok();return '<blockquote>\n'+b+'</blockquote>\n';}case 'list_start':{var i=this.token.ordered?'ol':'ul',b='';while(this.next().type!=='list_end')b+=this.tok();return '<'+i+'>\n'+b+'</'+i+'>\n';}case 'list_item_start':{var b='';while(this.next().type!=='list_item_end')b+=this.token.type==='text'?this.parseText():this.tok();return '<li>'+b+'</li>\n';}case 'loose_item_start':{var b='';while(this.next().type!=='list_item_end')b+=this.tok();return '<li>'+b+'</li>\n';}case 'html':return !this.token.pre&&!this.options.pedantic?this.inline.output(this.token.text):this.token.text;case 'paragraph':return '<p>'+this.inline.output(this.token.text)+'</p>\n';case 'text':return '<p>'+this.parseText()+'</p>\n';}};function f(a,b){return a.replace(!b?/&(?!#?\w+;)/g:/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;').replace(/'/g,'&#39;');}function g(a,b){a=a.source;b=b||'';return function c(d,e){if(!d)return new RegExp(a,b);e=e.source||e;e=e.replace(/(^|[^\[])\^/g,'$1');a=a.replace(d,e);return c;};}function h(){}h.exec=h;function i(a){var b=1,c,d;for(;b<arguments.length;b++){c=arguments[b];for(d in c)if(Object.prototype.hasOwnProperty.call(c,d))a[d]=c[d];}return a;}function j(a,c){try{if(c)c=i({},j.defaults,c);return e.parse(b.lex(a,c),c);}catch(d){d.message+='\nPlease report this to https://github.com/chjj/marked.';if((c||j.defaults).silent)return '<p>An error occured:</p><pre>'+f(d.message+'',true)+'</pre>';throw d;}}j.options=j.setOptions=function(a){i(j.defaults,a);return j;};j.defaults={gfm:true,tables:true,breaks:false,pedantic:false,sanitize:false,smartLists:false,silent:false,highlight:null,langPrefix:'lang-'};j.Parser=e;j.parser=e.parse;j.Lexer=b;j.lexer=b.lex;j.InlineLexer=d;j.inlineLexer=d.output;j.parse=j;if(typeof exports==='object')module.exports=j;else if(typeof define==='function'&&define.amd)define(function(){return j;});else this.marked=j;}).call(function(){return this||(typeof window!=='undefined'?window:global);}());